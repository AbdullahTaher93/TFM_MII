Heat butter in a large skillet over medium-high heat. Without crowding, lightly brown scallops in batches. Remove scallops to individual casseroles or lightly buttered baking shells. Stir onion and mushrooms into the skillet, and cook until the onion is soft and begins to brown. Stir in garlic, tomatoes, wine, ketchup, salt, tarragon, rosemary, and white pepper. Bring to a boil; cover, reduce heat to low, and simmer 15 minutes. Uncover, and cook until thick, about 3 minutes. Mix in shrimp and vinegar. Preheat oven to 400 degrees F (200 degrees C). Spoon sauce evenly over scallops. Bake in a preheated oven until sauce bubbles and begins to brown at the edges, about 10 minutes. Sprinkle parsley over tops, and serve.