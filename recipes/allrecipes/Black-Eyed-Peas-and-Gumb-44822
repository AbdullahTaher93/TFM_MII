Heat 1/3 cup oil in a medium saucepan over medium low heat, and whisk in flour. Whisking constantly, cook 5 to 7 minutes, until a golden brown roux has formed. Heat 2 tablespoons oil in a large, heavy saucepan over medium high heat. Stir in okra, onion, celery, and garlic, and cook 10 minutes, or until tender. Thoroughly blend roux into the vegetable mixture. Stir in water, tomatoes, parsley, salt, thyme, cayenne pepper, pepper, and bay leaves. Bring to a boil, reduce heat, and simmer 20 minutes, stirring occasionally. Mix in ham, and continue cooking 15 minutes, until tender. Stir in black-eyed peas, and continue cooking until heated through.