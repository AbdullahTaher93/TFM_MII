Preheat oven to 350 degrees F (175 degrees C). Heat 4 tablespoons of butter over medium heat; saute onions and mushrooms until tender. In a medium saucepan over high heat, boil cabbage for 10 minutes. In a 9 x 13 inch baking dish combine onions, mushrooms, cabbage, sauerkraut, sugar, thyme, salt and pepper; mix well. Dot remaining 2 tablespoons butter on top. Cover. Bake in preheated oven for 1 hour, stirring every 20 minutes.