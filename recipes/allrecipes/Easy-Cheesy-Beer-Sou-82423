Melt the butter in a large saucepan over medium heat. Add the onion and garlic; cook and stir until tender and fragrant. Sprinkle the flour over onion and garlic, and stir until blended in. Gradually whisk in the milk so that no lumps form. Continue to stir while you cook until the liquid thickens, about 10 minutes. Reduce the heat to low, and cook for 5 more minutes, stirring occasionally. Add the cheese, bacon and beer. Gently stir until the cheese is melted and soup is well blended.