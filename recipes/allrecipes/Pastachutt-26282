Bring a large pot of lightly salted water to a boil. Add spaghetti and cook for 8 to 10 minutes or until al dente; drain, but do not rinse. Meanwhile, melt butter in a large skillet over medium-high heat. Saute garlic, mushrooms and onion until tender. Toss with cooked spaghetti. Season with salt and pepper to taste.