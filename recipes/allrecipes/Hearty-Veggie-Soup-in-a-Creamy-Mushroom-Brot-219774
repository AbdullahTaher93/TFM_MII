Melt the margarine in a large stock pot over medium heat. Cook and stir the celery, carrot, and onion in the melted margarine until the onion is tender and slightly browned, about 10 minutes; add the ham, potatoes, corn, green beans, and enough water to cover the mixture completely. Bring the mixture to a simmer, and cook until the potatoes are cooked nearly through, 30 to 35 minutes. Stir the broccoli, cream of mushroom soup, Swiss-style cheese food, 2% milk, salt, and black pepper into the soup; cook just until the cheese is melted into the soup, about 5 minutes.