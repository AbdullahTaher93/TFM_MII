Place the warm water, salt, sugar, margarine, egg, bread flour, and yeast in the pan of a bread machine in that order, set the machine to the dough setting, and start the machine. When the dough cycle of the machine is finished, place the dough on a floured surface. Divide the dough into 3 pieces, and roll them into ropes about the thickness of your thumb and about 12 inches long. Ropes should be fatter in the middle and thinner at the ends. Pinch 3 ropes together at the top and braid them. Starting with the strand to the right, move it to the left over the middle strand (that strand becomes the new middle strand.) Take the strand farthest to the left, and move it over the new middle strand. Continue braiding, alternating sides each time, until the loaf is braided, and pinch the ends together and fold them underneath for a neat look. Grease a baking sheet, or line with parchment paper, and place the braided challah on the prepared sheet. Cover the loaf with a plastic bag to prevent drying out, and let rise in a warm place until doubled in bulk, about 1 hour. Preheat oven to 350 degrees F (175 degrees C). Whisk together 1 egg, 1 tablespoon of water, and vanilla in a small bowl, and brush the glaze on the challah. Sprinkle with optional toppings (see footnote). Bake in the preheated oven until golden brown and the loaf sounds hollow when tapped, 35 to 40 minutes.