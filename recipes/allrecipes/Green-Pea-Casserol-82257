Preheat the oven to 375 degrees F (190 degrees C). In a medium bowl, mix together the peas, pimentos, water chestnuts, cream of celery soup and onion. Pour into a 1 1/2 quart casserole dish. Top with shredded cheese. In a separate bowl, mix together the cracker crumbs and margarine; sprinkle evenly over the cheese. Bake for 30 to 40 minutes in the preheated oven, until browned and bubbly.