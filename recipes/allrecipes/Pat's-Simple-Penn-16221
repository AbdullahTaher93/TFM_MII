Bring a large pot of lightly salted water to a boil. Add pasta and cook for 8 to 10 minutes or until al dente; drain and reserve. In a large skillet over medium heat, brown bacon until crisp; drain on paper towels. Discard all but 2 tablespoons of bacon fat. Add sliced onions to skillet and cook over medium heat in bacon fat until slightly browned. Add broth, hot pepper flakes, and bacon; simmer until ready to serve. Add penne to mixture in skillet and heat until warmed through; serve immediately.