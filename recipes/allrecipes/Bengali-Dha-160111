Wash the lentils in a strainer. Combine the lentils and water in a saucepan over medium-high heat. Add half of the sliced onions and garlic, reserving the rest for later. Stir in the turmeric, bay leaf, tomatoes, and salt. Add the chiles, leaving them whole to add flavor or cut in half to add heat. When the mixture begins to boil, reduce the heat to a simmer. Cook until the lentils break apart and thicken slightly, about 20 minutes. Meanwhile, in a skillet, heat the vegetable oil over medium heat until the oil shimmers. Add the reserved sliced onions; cook and stir until the onion has softened and turned translucent, about 5 minutes. Reduce heat to medium-low, and continue cooking and stirring until the onion is very tender and dark brown, 15 to 20 minutes more. Stir in the rest of the chopped garlic and cook, stirring constantly, until the garlic is fragrant and tender, about 2 minutes. Pour the contents of the skillet into the cooked lentils and stir. Garnish with chopped cilantro.