Place the bacon in a large skillet and cook over medium-high heat, turning occasionally, until slices begin to brown, about 5 minutes. Drain the bacon slices on a paper towel-lined plate. Transfer partially cooked bacon to the bottom of a large roasting pan. Preheat oven to 350 degrees F (175 degrees C). Whisk milk and flour together in a bowl; set aside. Layer about one-third of the potatoes over the bacon, followed by half the onion and half the ham. Scatter one-fourth of the Cheddar cheese atop the ham. Pour one-third of the milk mixture over the cheese and season with salt and black pepper. Repeat the layers of potato, onion, ham, Cheddar Cheese, milk mixture, salt, and black pepper. Arrange the final third of potatoes in the roasting pan; pour remaining milk mixture on top. Scatter the remaining Cheddar cheese over the potato mixture. Cover roasting pan with aluminum foil. Bake in the preheated oven until potatoes are tender, about 2 hours.