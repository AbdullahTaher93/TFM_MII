Gently smash lemongrass and galangal (or ginger) on a cutting board with the side of a knife. Place in a large saucepan with broth, jalapenos and lime leaves (or zest). Bring to a boil, reduce to a simmer; cover and cook for 15 minutes. Strain into a bowl. Discard solids. Return the broth to the pan. Add pineapple, mushrooms, tomato, bell pepper, fish sauce and sugar. Bring to a simmer and cook, uncovered, for 5 minutes. Add shrimp and cook until they are pink and just cooked through, 2 to 3 minutes. Remove from the heat and stir in lime juice, scallions and cilantro.