Put flour into a shallow wide bowl. Season lamb shanks all over with salt and pepper; dredge through the flour until coated, shaking off any excess flour. Heat a large skillet over medium heat; add butter and heat until foaming. Cook lamb shanks in the hot butter until golden, about 5 minutes per side. Transfer lamb shanks to a slow cooker. Pour wine into the skillet and bring to a boil while scraping the browned bits of food off of the bottom of the pan with a wooden spoon; transfer to the slow cooker. Add tomatoes with their juice, onion, chicken broth, celery, and thyme leaves to slow cooker. Cook on Low until lamb is very tender and almost falling off the bone, 6 to 8 hours. Transfer lamb shanks to a platter and cover with aluminum foil. Transfer the sauce in the slow cooker to a large skillet; simmer over high heat until sauce is reduced to about 2 cups, 10 to 15 minutes. Season sauce with salt and pepper.