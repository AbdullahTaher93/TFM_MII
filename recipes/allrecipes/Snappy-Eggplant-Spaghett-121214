In a large saucepan or Dutch oven, saute onion and garlic in oil until tender. Add tomato juice; bring to a boil. Reduce heat; cover and simmer for 10 minutes. Add the eggplant, green pepper, olives, parsley, basil, salt and red pepper flakes. Cover and simmer for 20 minutes. Meanwhile, cook spaghetti according to package directions. Add fish to eggplant mixture; cover and simmer 10 minutes longer. Drain spaghetti; top with fish mixture.