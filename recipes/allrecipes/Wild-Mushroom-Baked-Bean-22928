Preheat oven to 350 degrees F (175 degrees C). Heat oil in a large skillet over medium heat. Saute shiitake mushrooms, portobello mushrooms, onion and garlic until tender, 8 to 10 minutes. Stir in flour; cook 1 to 2 minutes more. In a 2 quart casserole dish combine mushroom mixture with pinto beans, Great Northern beans, kidney beans, white wine and thyme. Bake, uncovered, in preheated oven for 45 minutes. Sprinkle with parsley before serving.