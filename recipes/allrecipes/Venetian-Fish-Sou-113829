Put the shrimp shells and the water in a small pot; bring the water to a boil. Reduce the heat and simmer, covered, for 15 minutes. Strain the shrimp stock into a bowl. Discard the shells. In a large pot, heat the oil over moderate heat. Add the carrots, onions, fennel, celery, and garlic; cook, stirring occasionally, until the vegetables start to soften, about 5 minutes. Add the wine; cook until it almost evaporates, about 5 minutes. Stir in the shrimp stock, clam juice, tomatoes, red-pepper flakes, 4 tablespoons of the parsley, the thyme, salt, and bay leaves. Bring to a boil. Reduce the heat and simmer, partially covered, for 25 minutes. Taste for salt and, if needed, add more. Remove the bay leaves. Add the fish, shrimp, the remaining tablespoon parsley, and the pepper to the pot and bring to a simmer. Simmer until the fish and shrimp are just done, about 2 minutes.