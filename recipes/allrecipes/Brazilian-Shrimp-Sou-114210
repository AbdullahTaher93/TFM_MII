In a large pot, heat the oil over moderately low heat. Add the onion, bell pepper, and garlic and cook, stirring occasionally, until the vegetables start to soften, about 10 minutes. Add the rice, red-pepper flakes, salt, tomatoes, and water to the pot. Bring to a boil and cook until the rice is almost tender, about 10 minutes. Stir the coconut milk into the soup. Bring back to a simmer and then stir in the shrimp. Simmer, stirring occasionally, until the shrimp are just done, 3 to 5 minutes. Stir in the black pepper, lemon juice, and parsley.