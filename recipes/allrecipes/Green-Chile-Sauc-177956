Rinse and dry chiles, then place in a single layer in shallow pans. Broil about 4 inches from heat, turning as needed until chiles are blistered and charred on all sides, 10 to 15 minutes. Let cool. Pull off and discard stem, skin, and seeds from each roasted chile, then chop chile. Repeat until you have 1 1/2 cups. (Freeze extra unpeeled roasted chiles for later use.) In a 2- to 3-quart pan over medium heat, stir onion and garlic in oil until limp, about 5 minutes; stir in flour. Smoothly mix in broth; add chopped chiles and stir until boiling. Add salt to taste. Use hot or, if making ahead, cool, cover, and chill up to 3 days or freeze.