Melt the butter in a large saucepan over medium-high heat. Saute the shiitake mushrooms, portobello mushrooms, and shallots for about 5 minutes, or until soft. Mix in the flour until smooth. Gradually stir in the chicken broth. Cook, stirring, 5 minutes, or until thick and bubbly. Stir in the half-and-half, season with salt and pepper, and sprinkle with cinnamon. Heat through, but do not boil.