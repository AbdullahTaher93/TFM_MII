Bring the vegetable broth and water to a boil in a large pot. Stir in the green beans, zucchini, carrots, and potatoes. Return to a boil, reduce heat to medium-low, and simmer 45 minutes. Meanwhile, prepare the pistou by processing the basil leaves, garlic, tomatoes, olive oil, and salt together in a food processor until finely chopped; set aside. Stir the kidney beans, white beans, canned diced tomatoes, and spaghetti into the soup and return to a simmer. Cook until the spaghetti is tender, about 10 minutes. Remove the soup from the heat and stir in the pistou. Sprinkle with Gruyere cheese and Parmesan cheese to serve.