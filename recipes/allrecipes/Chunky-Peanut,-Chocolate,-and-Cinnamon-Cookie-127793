Preheat oven to 350 degrees F. Whisk together flour, baking soda, salt, and cinnamon in a medium bowl. Put butter and peanut butter in the bowl of an electric mixer fitted with the paddle attachment; mix on medium speed until combined, about 2 minutes. Add sugars; mix 2 minutes. Mix in eggs. Gradually add flour mixture; mix until just combined. Fold in chocolate chips, peanuts, and vanilla with a mixing spoon until well distributed. Refrigerate dough until it is slightly firm, 15 minutes. Roll dough into 1-inch balls. Space balls 2 to 3 inches apart on baking sheets lined with parchment paper. Flatten slightly. Bake until just golden, about 13 minutes. Transfer cookies to wire racks to cool. Serve with ice cream.