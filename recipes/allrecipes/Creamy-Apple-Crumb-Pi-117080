Line a 9-in. deep-dish pie plate with pastry; flute edges. In a large bowl, combine the apples, sugar, cornstarch, cinnamon and allspice. Combine sour cream and vanilla; stir into apple mixture. Spoon into pastry shell. For topping, combine the flour, brown sugar and cinnamon in a bowl; cut in butter until mixture resembles coarse crumbs. Sprinkle over filling. Bake at 400 degrees F for 25 minutes. Reduce heat to 350 degrees F; bake 25-30 minutes longer or until filling is bubbly and topping is golden. Cool on a wire rack. Refrigerate leftovers.