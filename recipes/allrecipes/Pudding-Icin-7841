In a saucepan over medium heat combine the sugar, salt, cornstarch, water, and chocolate. Stirring frequently bring to a boil and cook over low heat until thick. Remove from the heat and add the vanilla and the butter or margarine. Mix well. Let frosting cool before frosting cake.