Cook onions in butter or margarine for about 10 minutes, until tender but not brown. Sprinkle onions with flour; stir until blended. Add milk, cover, and simmer for 20 minutes. Stir a small amount of hot soup into beaten egg yolks, stirring until blended. Return egg mixture to soup, and stir until well blended. Add salt and black pepper. Sprinkle each serving with grated parmesan cheese.