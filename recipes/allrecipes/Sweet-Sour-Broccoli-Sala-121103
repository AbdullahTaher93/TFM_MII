In a bowl, combine the broccoli, peanuts, raisins and onion. In a small bowl, combine the mayonnaise, vinegar and sugar; pour over vegetables and toss to coat. Cover and refrigerate for at least 2 hours.