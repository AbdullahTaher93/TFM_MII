In a large pot of boiling, salted water, cook penne according to package directions until tender, but firm. Drain and set aside. Meanwhile, in another large pot, heat oil over medium heat. Add onions and cook, stirring for about 3 minutes or until tender and fragrant. Add garlic and chili flakes and cook, stirring for 30 seconds or until fragrant. Add ham and cook, stirring well, for 30 seconds. Add mushrooms and cook, stirring for 3 minutes or until water is starting to release from mushrooms. Increase heat to high and cook, stirring for about 5 minutes longer or until water is evaporated and mushrooms brown lightly. Pour in cream and bring to a simmer, stirring often (don't boil it). Reduce heat and simmer for 2 to 3 minutes or until slightly reduced. Stir in peas and heat through (if using fresh peas, simmer for 2 to 3 minutes or until tender). Add drained pasta and cheese to pot and stir to mix well. Stir in parsley and lemon juice. Taste and season with salt and pepper. Serve immediately.