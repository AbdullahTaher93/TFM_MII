In a Dutch oven, heat the oil over moderate heat. Add the onion and cook, stirring occasionally, until starting to soften, about 3 minutes. Stir in the curry paste and fry, stirring, for 1 minute. Add the coconut milk and broth and bring to a boil. Stir in the soy sauce, brown sugar, salt, bamboo shoots, potatoes, and broccoli. Reduce the heat and simmer, partially covered, until the vegetables are tender, about 10 minutes. Stir in the tomato and heat through, about 2 minutes. Remove from the heat and add the lime juice and basil.