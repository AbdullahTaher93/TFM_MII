Puree the onion and carrots in a food processor or blender until finely ground. Heat the butter and olive oil in a large saucepan over medium heat. Cook the garlic until fragrant and lightly browned. Pour in the carrot puree, bring to a simmer, and cook for 5 minutes. Pour in diced tomatoes, water, yam, red potatoes, and cauliflower. Season with turmeric, curry powder, cumin, garam masala, cayenne, and red pepper flakes. Simmer until potatoes are soft, about 30 minutes.