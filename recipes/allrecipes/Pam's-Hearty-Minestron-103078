Heat oil over low heat in a large soup kettle; add garlic, carrots, celery, leeks, and zucchini. Cover, and cook over low heat until tender, about 15 minutes. Increase heat to medium-high, and pour in broth, tomatoes, and green and cannellini beans. Season with thyme and salt and pepper. Cover, and bring to a boil; reduce heat to low, and simmer for 20 minutes. Stir in macaroni, parsley, and pesto; continue cooking for 10 minutes.