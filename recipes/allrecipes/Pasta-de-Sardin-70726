Bring a large pot of lightly salted water to a boil. Add pasta, and cook for about 8 minutes, or until almost tender. While the pasta is cooking, heat olive oil in a skillet over medium heat. Add the onion, and cook for a few minutes until soft, then add the garlic, and cook until fragrant. Stir in the sardines with their sauce. When the sardines heat through, reduce heat to low, and simmer until the pasta is ready. When the pasta is almost done, drain, and add it to the sardine sauce. Stir, cover, and turn the heat off. Let stand for a few minutes to absorb the flavors of the sauce. Squeeze juice from the lemon over the pasta. Divide onto serving plates, and top with red pepper flakes and grated Parmesan cheese.