Melt the butter in a small skillet over medium heat. Add the onion, garlic, curry powder, and red pepper flakes; cook and stir until onion becomes transparent, about 5 minutes. Transfer the onion mixture to a large pot, and stir in the chicken broth and pumpkin cubes. Cook over medium heat until the pumpkin is tender when pierced with a fork, about 15 minutes. Remove pot from heat; stir in the Worcestershire sauce, nutmeg, and peanut butter. Transfer the soup in batches to a blender or food processor; blend each batch until smooth while slowly adding the half and half. Garnish each serving with cilantro.