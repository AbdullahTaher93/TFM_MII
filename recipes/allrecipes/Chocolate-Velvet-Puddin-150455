Whisk egg, condensed milk, cocoa, cornstarch and salt in a heavy saucepan until smooth. Gradually whisk in milk. Bring to a boil over medium-low heat, whisking constantly, until thickened, 7 to 9 minutes. Remove from heat; add chocolate and vanilla, whisking until the chocolate melts. Transfer to a bowl. Place plastic wrap directly on the surface of the pudding to prevent a skin from forming. Refrigerate until ready to serve. Serve warm or chilled.