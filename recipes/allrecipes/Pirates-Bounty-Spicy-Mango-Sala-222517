Mix mangos, apples, and onion together in a large bowl. Combine lime juice, cilantro, balsamic vinegar, and red pepper flakes in a jar with a lid; shake well. Pour the dressing over the mango salad; toss gently to coat. Season with salt and black pepper. Cover the bowl with plastic wrap and refrigerate salad for 30 minutes. Fold peanuts into the salad just before serving.