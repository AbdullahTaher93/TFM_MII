Melt coconut oil in a skillet over medium-high heat; saute shallots in hot oil until softened, 5 to 7 minutes. Remove from heat, cool slightly, and stir in flour until no lumps remain. Return shallot mixture to medium-high heat; slowly whisk in red wine and vegetable stock. Cook, stirring constantly, until liquid thickens, 3 to 5 minutes. Reduce heat to low and stir in balsamic vinegar and mustard. Season with thyme leaves, salt, and black pepper.