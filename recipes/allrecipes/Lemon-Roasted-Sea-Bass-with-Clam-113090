Preheat the oven to 400 degrees F. In a large skillet, cook the onions and fennel seeds in the olive oil over medium-high heat until the onions are almost translucent, about 5 minutes. Add the garlic and cook another 3 minutes. Transfer the mixture to a large roasting pan. Scatter the tomatoes and thyme over the onions. Lay the fish out on a work surface. Make 3 large diagonal cuts on each side of the fish to allow for even cooking. Season the fish generously with salt and pepper, inside and out, top and bottom. Transfer the fish to the roasting pan, arranging it on top of the tomato and onion mixture. Pour the wine into the pan. Arrange the lemon slices across the top of the fish and sprinkle evenly with the chili powder. Roast the fish for 10 minutes, then arrange the clams around the fish. Continue roasting until the clams open and the fish is cooked through, 25 to 30 minutes more.