Combine chicken stock and mustard greens in a large stockpot; add ham, bacon, onion, vinegar, and butter. Bring stock to a rolling boil. Cook, stirring occasionally, for 20 minutes; reduce heat to low and simmer until greens are tender, about 30 minutes. Season with salt, pepper, and red pepper flakes.