In a small bowl, whisk the mayonnaise, buttermilk, sugar, vinegar, salt, cayenne and pepper. Stir in blue cheese and onion. In a large bowl, combine the apples, celery and raisins. Drizzle with dressing; toss to coat. Sprinkle with walnuts.