Preheat the oven to 350 degrees F. Set the squash, cut sides up, on a baking sheet. Fill each cavity with 1/2 tablespoon of the butter; season with salt and pepper. Roast the squash for about 1 hour and 20 minutes, until tender; cut into large pieces. Meanwhile, in a large soup pot, melt the remaining 2 tablespoons of butter in the olive oil. Add the onion, leek, shallot, ginger and curry powder and cook over moderate heat until lightly browned. Add the wine and cook until evaporated. Add the cooked squash, water, coconut milk and thyme sprig. Simmer over moderately low heat for 15 minutes. Discard the thyme sprig. Working in batches, puree the soup in a blender until smooth; season with salt and pepper. Ladle the soup into bowls, garnish with the coconut shavings and serve.