In a medium bowl, combine the chicken with the 1 tablespoon soy sauce, 1 tablespoon of the sherry, and the cayenne. Let marinate for 10 minutes. In a wok or large frying pan, heat 1 tablespoon of the oil over moderately high heat. Add the chicken and cook, stirring, until almost done, 1 to 2 minutes. Remove. Add the remaining 1 tablespoon oil to the pan. Add the onion, garlic, and coriander. Cook, stirring, until the onions are golden, about 4 minutes. Add the remaining 2 tablespoons sherry and the vinegar. Cook, stirring, 1 minute longer. Add the cabbage, water chestnuts, the remaining 4 teaspoons soy sauce, the tomato paste, red-pepper flakes, and water and cook, stirring, for 3 minutes longer. Add the chicken and any accumulated juices, the cilantro, and the salt and cook, stirring, until the chicken is just done, 1 to 2 minutes longer.