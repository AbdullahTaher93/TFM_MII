Place beans in a large bowl and cover with several inches of water. Let soak 8 hours or overnight. Drain and rinse beans and place in a large pot over medium heat with beef broth, chicken broth, ham hock, onion, carrot, parsley, garlic and thyme. Bring to a boil, then reduce heat, cover and simmer 6 to 8 hours. Strain soup into a large saucepan, reserving bean mixture. Remove ham hock and discard. Puree bean mixture in a blender or food processor until smooth. Stir into reserved broth. Cook over low heat 2 hours. Season with salt and pepper. In the last 20 minutes of cooking, bring 2 1/2 cups of water to a boil in a medium saucepan. Stir in rice. Reduce heat, cover and cook 20 minutes. Ladle soup into six bowls. Top with cooked rice, a spoonful of sherry and a sprinkling of red onion.