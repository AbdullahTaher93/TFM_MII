In a heavy saucepan, combine the sugar, cocoa, cornstarch and salt. Gradually add milk. Bring to a boil over medium heat; boil and stir for 2 minutes. Remove from the heat; stir in butter and vanilla. Spoon into individual serving dishes. Chill until serving. Sprinkle with M&M's if desired.