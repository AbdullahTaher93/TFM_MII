Melt the butter in a large pan over medium heat until foamy. Add the onions, artichokes and potatoes and cook, covered, over low heat for 10 minutes. Uncover and cook for and additional 8 minutes. Stir in the brandy, and flour, and cook for 1 minute. Gradually stir in about 2 cups of the stock, stirring continuously, until the soup boils and thickens. Simmer for a further 5 minutes. Transfer to a food processor and puree until smooth, adding more stock if needed. Return to the pan, add the cream and season well with salt and freshly ground black pepper, then reheat. Sprinkle with the chopped parsley, to serve.