Preheat oven to 350 degrees F (175 degrees C). In a large saucepan over medium-low heat, combine 1 1/4 cups broth, yeast extract, lentils and barley. Simmer for 30 minutes. Meanwhile, in a medium saucepan combine remaining 3/4 cup broth, carrot, onion and walnuts; cook until tender, about 15 minutes. Meanwhile, bring a large pot of salted water to a boil. Add potatoes and cook until tender but still firm, about 15 minutes. Drain and mash. Combine flour and water and stir into carrot mixture; simmer until thickened. Combine carrot mixture with lentil mixture and season with salt and pepper. Pour mixture into a 2 quart casserole dish. Spoon mashed potatoes over lentil mixture. Bake in preheated oven until lightly browned on top, about 30 minutes.