In a 2- to 3-quart pan, combine rice and 23/4 cups water. Bring to a boil over high heat and cook until most of the water is absorbed, 7 to 10 minutes. Turn heat to low, cover, and cook until rice is tender to bite, 10 to 15 minutes longer. Spoon rice into a bowl. Meanwhile, in a small bowl, mix broth, soy sauce, vinegar, cornstarch, sugar, chili flakes, and salt until smooth. In a 12-inch nonstick frying pan or a 14-inch wok over high heat, combine broccoli and 1/2 cup water. When boiling, cover, reduce heat to medium, and simmer, stirring occasionally, until broccoli is bright green and just tender when pierced, 4 to 7 minutes. Pour into a colander to drain. Add oil, ginger, and garlic to pan; stir over high heat until garlic begins to brown, 30 to 45 seconds. Add shrimp and stir until opaque but still moist-looking in center of thickest part (cut to test), 3 to 4 minutes. Stir in broccoli. Stir cornstarch mixture and add to pan. Stir until sauce boils. Pour shrimp into a bowl and sprinkle with peanuts. Serve with cooked rice.