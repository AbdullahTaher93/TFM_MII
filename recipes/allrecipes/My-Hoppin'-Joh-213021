Heat the olive oil in a large Dutch oven or soup pot over medium-high heat and brown the ham bone on all sides, about 15 minutes. Reduce heat to medium and stir in the onion, celery, and garlic, and cook until the onion is translucent, stirring often, about 5 minutes. Add the black-eyed peas, 2 cups of water, chicken broth, wine, ham, bay leaves, thyme, salt, and pepper; stir. Bring the mixture to a boil. Reduce heat and simmer until the mixture is thickened and the flavors have blended, 30 to 60 minutes. Add more chicken stock if the mixture is too thick. About 30 minutes before serving, bring the rice and 4 cups of water to a boil in a saucepan. Reduce heat to medium-low, cover, and simmer until the rice is tender and the liquid has been absorbed, 20 to 25 minutes. Let the rice stand covered for about 10 minutes to absorb steam. Remove the ham bone from the soup, cutting any extra ham off the bone and returning it to the pot. Discard the bone. Stir the cooked rice into the black-eyed pea mixture until well combined and serve.