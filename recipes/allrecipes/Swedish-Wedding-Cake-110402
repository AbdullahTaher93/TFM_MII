Combine the margarine, sugar, egg, and dates in a saucepan. Cook over medium heat until thick, about 7 to 10 minutes. Remove from heat; stir in vanilla. Combine the crispy rice cereal and the walnuts in a large bowl. Stir in the date mixture; mix well. Working quickly, form the cereal and date mixture into 1 inch balls. Roll balls in coconut. Store in an airtight container in a cool place. Do not refrigerate.