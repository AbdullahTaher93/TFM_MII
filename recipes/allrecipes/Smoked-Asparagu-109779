Place the charcoal into the bottom pan of the smoker. Light the coals and wait for the temperature of the smoker to come to 240 degrees F (115 degrees C). Melt the butter in a small saucepan, stir in the garlic and cook over low heat until just tender. Remove from the heat and mix in the lemon juice, salt, and black pepper. Arrange the onions in the bottom of a large cast iron skillet or heat-resistant glass container. Spread asparagus spears over the onions. Drizzle the butter and garlic mixture over the asparagus. Place the uncovered skillet or baking dish on the top grate of the preheated smoker. Close the smoker and cook the asparagus until tender, about 1 hour.