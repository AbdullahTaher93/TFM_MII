In a large pot over medium heat, saute the onions in the butter or margarine for 10 minutes, or until onions are tender. Stir in the flour, ground black pepper and the sugar to form a pasty mixture. Now add the beef broth, water, parsley and thyme and simmer for 10 minutes, Then add the wine and simmer for 10 more minutes. Preheat oven to broil. Fill individual oven safe bowls 3/4 full with the soup. Place a slice of bread on top of the soup and cover with the cheese. Place bowls in the oven. Broil in the oven until the cheese is melted and bubbly