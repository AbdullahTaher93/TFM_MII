In a large saucepan over medium heat, saute onion in butter until brown. Stir in sauerkraut with juice, water, mushrooms and garlic. Season with salt and pepper and bring to a boil. Then reduce heat, cover and let simmer for 1 hour. Stir in pasta and simmer 10 minutes more, until pasta is al dente.