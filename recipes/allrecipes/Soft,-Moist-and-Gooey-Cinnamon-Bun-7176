In a bread machine pan, place the milk, beaten egg, melted butter, water, vanilla pudding mix, bread flour, sugar, salt and yeast in the order recommended by the manufacturer. Select the Dough cycle. When cycle is finished, remove the dough, and knead for 3 to 5 minutes. Roll out to a large rectangle. Mix together the softened butter, brown sugar and cinnamon. Spread over dough. Sprinkle with chopped walnuts and raisins, if desired. Starting with the widest end, roll the dough into a log. Pinch to seal seams. Cut into 1/2 inch to 1 inch slices, and place in a greased 9x13 inch pan. Place in a draft-free space, and allow to rise until doubled. Preheat the oven to 350 degrees F (175 degrees C). Bake for 15 to 20 minutes. To make frosting, mix the milk, confectioners sugar, softened butter and vanilla in a small bowl. Spread over warm cinnamon rolls.