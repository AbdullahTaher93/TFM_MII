Combine salt, pepper, and thyme in a bowl. Melt 1 tablespoon butter in a 10-inch skillet over medium heat. Cook and stir onions until soft and golden brown, about 8 minutes. Move to a bowl. Melt remaining 1 tablespoon butter in the skillet; remove from heat. Arrange 1/3 of potato slices in the skillet in a slightly overlapping layer. Sprinkle with 1/2 teaspoon of the salt mixture. Top with 1/2 of the onions and 1/2 of the Gruyere cheese. Repeat layers, ending with potatoes; sprinkle with remaining salt mixture. Cover and cook over medium-low heat, reducing heat to low if necessary, until potatoes are tender, about 30 minutes. Uncover and continue cooking, about 5 minutes. Run a spatula around edges to loosen; let cool, 5 to 10 minutes. Invert potatoes carefully onto a serving dish.