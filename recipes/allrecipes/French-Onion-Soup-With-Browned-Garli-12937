In a large, heavy stockpot over medium heat, cook sherry until bubbling. Add the onions, and reduce heat to medium. Cook onions slowly, stirring frequently, for at least 20 minutes, until they begin to form a paste. Stir in the garlic and continue to cook for 5 to 10 minutes, until garlic begins to look brown. Stir in flour and cook for 2 minutes. Pour in broth and bring to a boil. Reduce heat and simmer for 20 minutes. Season with pepper and salt. Ladle soup into bowls, and float a slice of toasted bread on top of each serving.