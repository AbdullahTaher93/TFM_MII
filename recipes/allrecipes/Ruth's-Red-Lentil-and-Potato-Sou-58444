Melt the butter in a large saucepan over medium heat. Stir in the onion and celery. Cook until tender. Mix in the potatoes, carrot, and garlic. Continue to cook and stir about 5 minutes, until the potatoes are well coated with butter. Season the mixture with allspice, cumin, cayenne pepper, cloves, and pepper. Pour in the vegetable broth, and mix in the lentils. Add water, increasing the amount as necessary to cover all ingredients. Bring to a boil, reduce heat, and stir in the kale. Cook, stirring occasionally, 35 to 45 minutes, until the lentils are tender. Mix in the cilantro and file powder. Continue cooking about 5 minutes, or to desired thickness.