Preheat oven to 350 degrees F. Butter and flour a 9-inch square baking pan. Make the topping: In a medium bowl, stir together flour, brown sugar, and salt. Cut in the butter using your hands or a pastry blender until large, moist crumbs form. Chill. In a medium bowl, whisk together 1 1/2 cups flour, baking powder, baking soda, salt, and allspice. In a large bowl, beat the butter and sugar with an electric mixer until fluffy. Add egg; beat well. Add flour mixture and buttermilk alternately until just combined. (Batter will be very stiff.) In a large bowl, toss the blueberries with 1 teaspoon flour. Fold blueberries into the batter; spoon into prepared pan. Sprinkle cake with streusel topping. Bake until golden brown and a tester comes out clean, 45 to 50 minutes. Let cool completely. Dust with confectioners' sugar before cutting into squares.