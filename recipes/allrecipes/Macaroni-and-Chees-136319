Preheat oven to 375 degrees F. Cook pasta, and drain; reserve. Meanwhile, in a 5-quart heavy pot, melt butter over medium heat. Add onion; cook, stirring occasionally, until softened, 3 to 5 minutes. Whisk in flour to coat onion. In a slow steady stream, whisk in milk until there are no lumps. Cook, whisking often, until mixture is thick and bubbly and coats the back of a wooden spoon, 6 to 8 minutes. Stir in cayenne, if using, and 1 cup each yellow and white cheddar cheese. Season with 1 teaspoon salt and 1/4 teaspoon pepper. Toss pasta with cheese mixture; fold in ham. Transfer to a 9-by-13-inch baking dish or individual dishes. Set aside. In a food processor, pulse bread until large crumbs form. Toss together with remaining 1/4 cup each white and yellow cheddar, and 1/4 teaspoon salt. Top pasta with breadcrumb mixture. Bake until top is golden, about 30 minutes.