In a large bowl, beat eggs, milk, ketchup, salt and pepper. Add beef and mix well. Pat half of the meat mixture into a greased 9-in. x 5-in. x 3-in. loaf pan; set aside. For stuffing, saute the mushrooms and onion in butter until tender, about 3 minutes. Add bread crumbs, parsley, thyme, salt and pepper; saute until crumbs are lightly browned. Spoon over meat layer; cover with remaining meat mixture and press down gently. Bake at 350 degrees F for 1 hour or until no pink remains, draining fat when necessary.