Bring a large pot of lightly salted water to a boil. Cook gnocchi in the boiling water until they float to the top, 2 to 4 minutes. Drain. Place a steamer insert into a saucepan and fill with water to just below the bottom of the steamer. Bring water to a boil. Add broccoli, cover, and steam until tender, 4 to 5 minutes. Drain and keep warm. Melt 1 teaspoon butter in a large skillet over medium heat. Add 1 tablespoon onion and 1 teaspoon garlic; cook and stir until fragrant, about 2 minutes. Add sausage; cook and stir until browned, about 5 minutes. Stir in broccoli. Melt 1/2 cup butter in another skillet. Add remaining 1 tablespoon onion, 2 teaspoons garlic, and flour; cook and stir until lightly browned, 2 to 3 minutes. Stir in gnocchi. Combine sausage mixture and gnocchi mixture; season with salt and pepper.