Combine beans and coconut milk in a large saucepan; cook for 2 hours on low heat. Stir in thyme, garlic, onions and 3 slices chile pepper; simmer for 7 minutes. Stir in rice and bring to a boil. Reduce heat, cover and simmer for 25 minutes, or until all liquid is absorbed and rice is tender.