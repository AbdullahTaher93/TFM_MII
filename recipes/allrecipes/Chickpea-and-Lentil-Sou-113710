In a large pot, melt the butter over moderately low heat. Add the onion and celery and cook, stirring occasionally, until the vegetables start to soften, about 10 minutes. Stir in the ginger, turmeric, cinnamon, salt, pepper, and lentils. Add the water and tomatoes to the pot. Bring to a boil. Reduce the heat and simmer, partially covered, stirring occasionally, until the lentils are tender, 25 to 30 minutes. Add the chickpeas and simmer 5 minutes longer. Stir in the cilantro or parsley.