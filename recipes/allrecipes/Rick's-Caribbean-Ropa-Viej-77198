Melt the butter in a skillet over medium heat, and cook the onion and mushrooms until lightly browned. Place flank steak in the skillet, and brown on all sides. Pour in the wine. Reduce heat to low, and continue cooking 30 minutes, or until meat is very tender. Remove meat, shred, and return to skillet. Pour coconut milk into the skillet. Mix in sour cream, coconut flakes, brown sugar, allspice, salt, and pepper. Continue cooking 10 minutes, or until heated through.