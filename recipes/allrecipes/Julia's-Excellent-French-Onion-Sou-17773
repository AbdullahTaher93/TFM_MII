In a large skillet over medium high heat, fry the bacon for 15 minutes, or until crisp. Transfer bacon to paper towels but leave the grease in the skillet. Reduce heat to medium, add the onions and saute in the bacon grease for about 15 minutes, or until translucent and tender. Stir in the wine and the thyme and simmer for 5 more minutes. Add the salt and ground black pepper. Preheat oven to broil. Then pour in the beef stock, bring to a boil, reduce heat to low and simmer for about 30 minutes. Crumble the bacon, reserve 4 tablespoons and add the rest to the soup. Place 1 tablespoon of sherry into each of 4 individual oven-safe bowls. Lay a slice of bread into each bowl, then ladle the soup into each bowl. Top with the cheese and sprinkle with the remaining bacon. Place in the oven and broil for about 3 to 5 minutes, or until the cheese is melted and bubbly. (Note: Be careful when removing the bowls as they will be hot.)