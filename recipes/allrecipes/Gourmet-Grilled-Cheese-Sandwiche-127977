Heat the butter in a large nonstick skillet over medium heat. Add the mushrooms and cook until soft, about 5 minutes. Meanwhile, spread the top of 2 bread slices with the pesto. Arrange the cheese and cooked mushrooms over the pesto. Sprinkle with salt and pepper and cover with the remaining 2 bread slices. Cook in the same skillet until the cheese melts and the bread is golden, 3 to 4 minutes per side.