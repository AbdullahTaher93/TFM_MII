Preheat oven to 350 degrees F (175 degrees C). Butter a 9x13 inch baking dish with the softened butter. Toss the potato slices and chopped onions with salt and pepper, and spread 1/3 of the mixture into the prepared baking dish. Sprinkle half of the Gruyere cheese over the potatoes, then add another layer of potatoes. Sprinkle on the remaining cheese followed by the remaining potatoes. Mix together the water and wine, and pour into dish. Cover the baking dish with aluminum foil. Bake in preheated oven until the potatoes are tender, about 1 hour 15 minutes. Once tender, remove the foil, and pour the cream evenly over the potatoes. Bake uncovered for an additional 15 minutes to brown the top and thicken the cream.