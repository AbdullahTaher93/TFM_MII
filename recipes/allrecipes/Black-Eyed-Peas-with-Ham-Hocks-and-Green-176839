In a 4- to 5-quart pan, combine water, ham hocks, peas, onion, pepper, chili flakes, garlic, and bay leaf. Bring to a boil over high heat. Reduce heat to medium-low and simmer, covered, until peas are tender, about 45 minutes. Remove bay leaf and ham hocks. Cut any meat from hocks; return meat to pan. Stir in collard greens. Bring to a boil, then reduce heat to medium and simmer, covered, until greens are tender, 10 to 15 minutes. Stir in vinegar and salt to taste.