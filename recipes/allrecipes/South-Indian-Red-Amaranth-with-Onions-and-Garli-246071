Place onion and garlic in a food processor; pulse into a coarse paste. Heat 3 tablespoons oil in a nonstick skillet over medium heat. Add chopped leaves and stems and onion paste; stir to combine, about 1 minute. Stir in tamarind pods, chile powder, and turmeric. Pour in water and bring to a simmer, 3 to 5 minutes. Cook until water evaporates, 5 to 10 minutes. Stir in butter. Heat 1 tablespoon oil in a large skillet over medium-high heat. Add chile peppers, curry leaves, garlic, mustard seeds, and black lentils. Cook and stir until seeds pop and mixture is fragrant, 3 to 5 minutes. Fold into amaranth mixture to serve.