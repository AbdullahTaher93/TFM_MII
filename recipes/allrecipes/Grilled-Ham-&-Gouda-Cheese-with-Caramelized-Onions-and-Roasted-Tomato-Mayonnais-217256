Heat the butter and oil in a medium saute pan over medium heat. Add the onions and cook, stirring occasionally, until golden brown and caramelized, season with salt and pepper. Preheat the oven to 375 degrees F. Place the tomato in a small dish or baking sheet, drizzle with oil and season with salt and pepper. Roast until the tomato is very soft and golden brown, about 20 minutes. Remove from the oven and let cool slightly. Put the mayonnaise, tomato, garlic and thyme in a food processor and process until smooth, season with salt and pepper. Scrape into a bowl. Place 4 slices of the bread on a flat surface, divide half of the cheese among the slices. Top the cheese with 2 slices of prosciutto then top the prosciutto with some of the onions and the remaining cheese. Place the 4 remaining slices of bread on top to make four sandwiches. Butter the top of the bread using half of the butter. Preheat a cast iron pan or cast iron griddle over medium heat. Place the sandwiches in the pan, butter-side down (may need to do in batches) and cook until lightly golden brown. Spread the remaining butter on the bread facing up, then flip and continue cooking until the bottom is golden brown and the cheese has melted. Serve with roasted tomato mayonnaise on the side.