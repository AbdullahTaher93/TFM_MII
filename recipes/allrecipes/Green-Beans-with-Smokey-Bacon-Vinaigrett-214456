Make an ice bath by filling a large pot with ice and water; set aside. Bring a pot of lightly salted water to a boil. Cook the green beans in the boiling water until slightly tender yet crisp, about 3 minutes; drain. Immediately plunge the green beans into the ice bath to stop them from cooking further. Drain and set aside. Cook the bacon in a large, deep skillet over medium-high heat until it begins to brown, about 5 minutes. Add the onions to the bacon and continue cooking until the onions begin to caramelize and turn golden brown, 7 to 10 minutes. Add the green beans, red wine vinegar, and sugar; cook and stir until the sugar is dissolved, 2 to 3 minutes.