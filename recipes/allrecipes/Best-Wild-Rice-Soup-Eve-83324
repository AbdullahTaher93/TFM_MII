Melt the butter in a large pot, and saute the onion and garlic. Gradually blend in the flour. Cook and stir until onion is tender and flour is golden brown. Whisk in broth, bring to a boil, and simmer 5 minutes. Stir in ham, carrots, and almonds. Season with salt and pepper, cover, and simmer 45 minutes, stirring occasionally. Mix rice, half-and-half, and sherry into the soup, and continue cooking 30 minutes. Stir in parsley and chives, and cook another 30 minutes, until rice is tender.