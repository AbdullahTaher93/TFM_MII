In a food processor, puree the garlic and parsley with the salt. With the machine running, add the olive oil in a thin stream. Add the almonds and pulse to chop. In a large pot of boiling, salted water, cook the spaghetti until just done, about 12 minutes. Reserve 1/2 cup of the pasta water. Drain the spaghetti and toss with 1/4 cup of the reserved pasta water, the pesto, and the tomatoes. If the sauce seems too thick, add more of the reserved pasta water.