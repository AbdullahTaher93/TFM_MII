Preheat oven to 300 degrees F (150 degrees C). Grease a 1 1/2 quart casserole dish. Combine mashed potatoes, cream cheese, onion, eggs, flour, salt and black pepper in an electric mixer. Beat 2 to 3 minutes at medium speed. Pour into prepared casserole dish. Spread fried onions evenly over the top. Bake uncovered for 30 to 35 minutes.