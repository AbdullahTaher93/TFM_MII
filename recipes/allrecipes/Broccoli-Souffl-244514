Preheat oven to 350 degrees F (175 degrees C). Place a steamer insert into a saucepan and fill with water to just below the bottom of the steamer. Bring water to a boil. Add broccoli, cover, and steam until tender, 2 to 4 minutes. Melt margarine in a saucepan over medium heat. Add flour and stir until mixed. Slowly add the milk, stirring to prevent lumps. Cook until white sauce is thickened, about 10 minutes. Combine broccoli, eggs, mayonnaise, and onion in a baking dish; cover with white sauce and stir to combine. Bake in preheated oven for 30 minutes. Sprinkle Cheddar cheese on top and bake until set, about 15 minutes more.