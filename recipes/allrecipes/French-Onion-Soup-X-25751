In a large saucepan over medium heat, melt butter. Stir and cook onions in butter until golden brown, 15 minutes. Stir in the garlic and cook 1 minute. Pour in the beer and beef broth and season with mustard, thyme, black pepper and the bay leaf. Bring to a boil, then reduce heat, cover and simmer 30 minutes. Preheat oven to 425 degrees F (220 degrees C). Remove bay leaf from soup and ladle soup into a large casserole or individual ovenproof bowls, leaving about 1 inch of room at the top of the dish or dishes. Float slices of toasted bread on the soup and pile generously with Gruyere. Bake in preheated oven 10 minutes, until cheese is lightly browned and bubbly.