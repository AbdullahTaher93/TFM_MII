Heat oil in a large skillet over medium heat. Add the chicken thighs, crushed garlic, and Italian seasoning. Brown the chicken thighs on both sides, then add the tomatoes and portobello mushrooms. Season with salt and pepper. Reduce heat to low, cover, and simmer for about 30 minutes. Strain off about half of the liquid from the skillet, and pour in the Burgundy wine. Cover, and simmer for another 30 minutes. Remove the chicken, tomatoes and mushrooms to a 8 or 9 inch square baking dish. Cover with sliced onion, and set aside. Preheat the oven to 350 degrees F (175 degrees C). Bring the liquid remaining in the skillet to the boiling point over medium-low heat. Gently whisk in the heavy cream and Gruyere cheese. Remove from the heat, and stir until smooth. If the sauce is not thick enough, whisk in the cornstarch, and simmer over very low heat until it thickens. Pour the sauce over the chicken in the baking dish. Bake for 30 minutes in the preheated oven, until onions are tender. Let rest for 5 minutes before serving.