Grease a waffle iron with cooking spray and preheat according to manufacturer's instructions. Whisk flour, sugar, baking powder, and 1/2 teaspoon salt together in a large bowl. Whisk milk, beaten eggs, butter, and vanilla extract together in a separate bowl. Pour over flour mixture; stir until batter is just moistened. Scoop 2 teaspoons of batter into the waffle iron for each waffle pop, leaving space between each one. Insert a lollipop stick 3/4 of the way into each pool of batter. Close lid; cook until golden and crispy, about 1 minute. Transfer waffle pop to a cooling rack. Repeat with remaining batter and lollipop sticks. Melt dark chocolate in a microwave-safe glass or ceramic bowl in 15-second intervals, stirring after each interval, 1 to 3 minutes. Scoop melted chocolate into a pastry bag fitted with a small writing tip or into a plastic resealable bag with a corner snipped off. Drizzle chocolate over one side of the waffle pops. Sprinkle peanuts and a small pinch of flaked salt over pops while chocolate is still warm. Let cool until chocolate firms up, about 5 minutes.