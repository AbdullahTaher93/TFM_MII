Bring a pot of water to a boil, and cook the broccoli 5 minutes, just until tender. Drain, and set aside. Bring a large pot of lightly salted water to a boil. Add angel hair pasta, cook for 4 minutes, until al dente, and drain. Heat the margarine and olive oil in a skillet, and cook the onion and garlic until tender. Mix in broccoli and shrimp, and cook until heated through. Toss with the cooked pasta, season with salt and pepper, and top with cheese to serve.