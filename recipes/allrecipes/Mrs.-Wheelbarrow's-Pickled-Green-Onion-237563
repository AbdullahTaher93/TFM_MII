Sterilize the jars and lids in boiling water for at least 5 minutes. Stir peppercorns, celery seed, mustard seed, and allspice berries together in a small bowl. Divide spices evenly between the prepared canning jars. Pack onions vertically into jars, alternating tips-up and tips-down to fit onions snugly. Bring water, vinegar, and salt to a boil in a saucepan. Pour hot liquid over onions into jars, leaving 1/2-inch headspace at the top. Run a knife or thin spatula around the insides of the jars after they have been filled to remove any air bubbles. Wipe the rims of the jars with a moist paper towel to remove any food residue. Top with lids and screw on rings. Place a rack in the bottom of a large stockpot and fill halfway with water. Bring to a boil and lower jars into the boiling water using a holder. Leave a 2-inch space between the jars. Pour in more boiling water if necessary to bring the water level to at least 1 inch above the tops of the jars. Bring the water to a rolling boil, cover the pot, and process for 15 minutes. Remove the jars from the stockpot and place onto a cloth-covered or wood surface, several inches apart, until cool. Once cool, press the top of each lid with a finger, ensuring that the seal is tight (lid does not move up or down at all). Store in a cool, dark area. Let onions pickle for at least 1 month before eating.