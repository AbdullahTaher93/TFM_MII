In a medium enameled cast-iron casserole, heat the oil. Add the peppers, onion, halved garlic and a pinch of salt. Cover and cook over moderate heat, stirring occasionally, until the vegetables soften, 15 minutes. Add the chipotle powder and cook uncovered, stirring, until the vegetables are lightly browned, 5 minutes. Add the tomatoes and their juices, cover and simmer over low heat for 20 minutes. Scrape the sauce into a food processor and puree. Wipe out the casserole. Strain the sauce into it and season with salt; keep warm. Preheat the oven to 375 degrees F. Butter a 10-by-14-inch glass baking dish. In a bowl, mix the ricotta with the minced garlic, 1/2 cup of the Parmesan and the mozzarella. Season with salt and pepper. Cook the pasta in a large pot of boiling salted water until almost al dente. Drain the pasta and return it to the pot, then toss with 2 cups of the sauce. Spread the pasta in the baking dish, then spread the ricotta mixture on top and drizzle with the melted butter. Sprinkle the remaining 1/4 cup of Parmesan on top. Cover the pasta with foil and bake for 25 minutes, or until hot. Preheat the broiler. Uncover the pasta and broil 4 inches from the heat for 2 minutes, or until the topping is evenly browned. Let stand for 5 minutes, then serve with the remaining sauce.