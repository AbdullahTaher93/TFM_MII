Spread walnuts out in a 9- by 13-inch baking pan. Bake in a 350 degree F oven, stirring occasionally, until nuts are golden and toasted, about 15 minutes. Pour from pan and set aside. Meanwhile, in a 5- to 6-quart pan, melt butter over medium heat. Add onions, celery, parsley, sage, and marjoram. Stir often until onions and celery are slightly softened, about 10 minutes. Add apples and raisins; stir often until apples are slightly tender when pierced, 5 to 10 minutes more. Remove pan from heat. To onion-apple mixture add toasted walnuts, stuffing mix, broth, salt, and pepper. Mix well. Butter the 9- by 13-inch baking pan. Transfer dressing to pan and cover with foil. Bake dressing in a 350 degree F oven until heated through, about 30 minutes. Uncover pan and continue baking until top is golden and slightly crisp, about 15 minutes longer.