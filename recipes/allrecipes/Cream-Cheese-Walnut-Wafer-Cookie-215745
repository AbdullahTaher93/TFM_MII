Cream together the butter, cream cheese, powdered sugar and brown sugar at high speed with a hand-held electric mixer. When it is light and fluffy, add the egg and vanilla, and beat for another few minutes, scraping the sides of the bowl a few times. Set aside. Place the walnuts in the bowl of a food processor, and add 1 cup of the flour. Buzz a few times until the walnuts are ground into the consistency of cornmeal. Add the ground walnuts, along with the remaining flour, the salt, and the cinnamon, to the butter-cream cheese mixture, and stir until thoroughly blended. Arrange a 12 by 14 inch sheet of parchment paper on a flat surface; set the dough in the middle. Arrange a second sheet of parchment on top. Carefully flatten and roll the dough to an even 1/4 inch; freeze until set. Alternatively, divide the dough in half, and place each half on a generous rectangle of plastic wrap, covering it with the wrap as you roll each half into a long about 6 inches longer and 2 inches in diameter. Finish wrapping each log, and refrigerate or freeze until firm. When you are ready to bake the cookies, preheat the oven to 375 degrees F. Unwrap the dough, and place it on a cutting board. Using a cookie cutter cut into shape or using a sharp paring knife (dip it into hot water, if you like, for easier slicing) and slice into thin (1/8 inch, if you can, but in any case less than 1/4 inch) wafers. Place the cut cookies or wafers on an ungreased baking sheet, and bake in the center of the oven for 12 to 15 minutes, or until golden brown on the bottom. Cool on a rack. Dip the cookies in chocolate and sprinkle with extra walnuts if desired.