Slowly heat shallot and garlic in a heavy pot with a lid over very low heat until they release some moisture but not yet browned, about 3 minutes. Stir cider vinegar, brown sugar, apple juice, and orange juice together in the pot with the shallot and garlic; bring to a simmer while stirring to dissolve sugar. Add cranberries, apple, raisins, chile pepper, ginger, cloves, cinnamon, and salt to the simmering liquid; stir. Bring the liquid to a boil, reduce heat to low, and simmer until the mixture thickens and the cranberries are soft, 8 to 10 minutes. Remove and discard the chile pepper. Add salt to preference.