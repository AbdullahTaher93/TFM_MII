Melt butter in a 4- to 5-quart pan over medium-high heat; add shallots and stir often until limp, about 3 minutes. Sprinkle flour over shallots and stir until well mixed, about 1 minute. Whisk in milk and broth and stir until mixture boils and thickens, about 5 minutes. Add sherry and salt and pepper to taste; reduce heat and simmer, stirring occasionally, to blend flavors, about 5 minutes. Add shrimp to sauce and stir often just until simmering again, 1 to 2 minutes. To serve, spoon mixture over steamed rice and sprinkle with tarragon or parsley.