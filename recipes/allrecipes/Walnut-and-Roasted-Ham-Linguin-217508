Fill a large pot with lightly salted water and bring to a rolling boil over high heat. Once the water is boiling, stir in the linguine, and return to a boil. Cook the pasta uncovered, stirring occasionally, until the pasta has cooked through, but is still firm to the bite, 8 to 10 minutes. Drain well in a colander set in the sink. Heat the olive oil in a large skillet over medium heat, and cook and stir the garlic, shallots, and red pepper flakes until the garlic is fragrant but not browned, about 3 minutes. Stir in the walnuts, and cook until the nuts give off a toasted smell, about 2 minutes; stir in ham slices, and cook the mixture until the ham is hot and beginning to brown, about 5 more minutes. Lightly toss the pasta with the ham mixture in the skillet, and sprinkle with Parmesan cheese and parsley.