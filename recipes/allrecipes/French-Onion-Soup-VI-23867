Melt butter in a large pot over medium heat. Saute onions until deep brown, about 20 minutes. Stir in broth and wine, using a wooden spoon to scrape the bottom of the pot. Season with salt and pepper. Cook until heated through. Preheat oven on broiler setting. Ladle soup into heatproof serving bowls. Top each bowl with a slice of bread, and sprinkle with cheese. Place under a hot broiler until cheese is melted and slightly browned.