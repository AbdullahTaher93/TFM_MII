Cook pasta according to package directions. Meanwhile, in a wok or a large skillet, saute pine nuts until golden. Remove and set aside. In the same pan, heat olive oil and saute garlic and pepper flakes for 1 minute. Stir in spinach and toss over high heat until wilted, 2 to 3 minutes. Do not overcook or it will stick together. Drain pasta. Put in a bowl; add butter, spinach mixture, parmesan cheese, pine nuts, and salt and pepper to taste. Toss well and serve immediately.