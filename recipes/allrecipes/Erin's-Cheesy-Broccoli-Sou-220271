Bring water and chicken bouillon granules to a boil in a pot. Add broccoli and onion; cook at a boil until tender, 10 to 12 minutes. Combine milk, margarine, flour, and cream cheese in a large pot over medium heat; cook and stir until the margarine melts and the mixture begins to thicken, about 5 minutes. Stir Cheddar cheese into the milk mixture; cook and stir until the Cheddar melts completely. Pour the broccoli mixture into the cheese mixture in the large pot; stir well.