Melt chocolate and butter together in a double boiler. Whisk until smooth. Mix together the cocoa powder, flour, baking powder, and salt. In an electric mixer, whisk together the eggs and sugar for 2 minutes. Reduce to low speed and stir in the melted chocolate, coffee and vanilla. Stir in the dry ingredients. Refrigerate the dough until firm, about an hour. Preheat the oven to 350 degrees F. Scoop or form the cookies into balls, each about 1 tablespoon. Put the confectioners (or powdered) sugar in a bowl and roll each of the balls in the sugar. Place on parchment lined baking sheets several inches apart. Bake for 13-15 minutes until crackled on top. Remove from the oven and gently press a walnut half in the middle of each warm cookie. Once cool, store in an airtight container.