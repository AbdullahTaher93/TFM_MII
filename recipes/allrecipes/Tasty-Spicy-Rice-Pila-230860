Melt butter in a large pot over medium heat; cook and stir onion, red pepper, mushrooms, and garlic until tender, about 10 minutes. Stir in rice. Add chicken stock; cover and boil until liquid is absorbed, about 10 minutes. Season with red pepper flakes, salt, and black pepper.