Heat oil in a large saucepan over medium-high heat. Saute onion and prosciutto in hot oil until onion is soft, 5 to 6 minutes. Stir garlic, salt, red pepper flakes, and black pepper into onion mixture; saute until fragrant, about 1 minute. Pour chicken broth, tomato sauce, and thyme into onion mixture. Add peas and beans; bring to a boil. Stir penne into broth mixture and cook for 7 minutes; remove from heat. Stir Parmesan cheese into penne mixture, cover the saucepan with a lid, and let sit until the pasta absorbs most of the liquid, about 5 minutes.