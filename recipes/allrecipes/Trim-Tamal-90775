Preheat oven to 425 degrees F. Separate husks, if using, discarding silks and debris. Rinse husks, then soak in warm water until pliable, at least 15 minutes. Cut chicken into 1-inch chunks. Cut tomato and onion into slender wedges. In a 3- to 4-quart pan, smoothly blend 2 tablespoons masa with 1/4 cup broth. Then add 1 1/4 cups more broth, onion, chili powder, vinegar, anise, and raisins. Stirring, bring mixture to a boil over high heat, then simmer, covered, stirring occasionally, until onion is tender to bite, about 8 minutes. Stir in chicken and tomato, and remove from heat. In a bowl, mix remaining 2 cups masa, baking powder, and salt. Stir in oil and remaining 1 3/4 cups broth. Drain husks. Overlapping husks, line a shallow 2 1/2-quart casserole (about 7 by 11 in.), allowing husk tips to extend above casserole rim. (If not using husks, lightly oil dish.) With damp fingers, pat half the masa dough onto husks in casserole bottom. Add chicken mixture. Drop remaining dough in small spoonfuls onto filling. Bake until casserole is bubbling in center, about 45 minutes. Garnish with green onions.