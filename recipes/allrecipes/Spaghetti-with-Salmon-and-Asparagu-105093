Bring a large pot of lightly salted water to a boil. Add pasta and cook for 8 to 10 minutes, or until al dente. Add the asparagus during the last 4 to 5 minutes of cooking. Drain, reserving 1/2 cup of the cooking liquid, and return pasta to pot. Heat oil in a large skillet over medium-high heat. Stir in onions and cook until tender, about 5 minutes. Pour in wine, then stir continuously until the onions have become golden brown, about 2 minutes. Stir in salmon, pesto and green onions; cook to heat through, about 2 minutes. Toss salmon mixture with spaghetti, adding Parmesan cheese and lemon juice. Stir in some of reserved pasta liquid to moisten if necessary.