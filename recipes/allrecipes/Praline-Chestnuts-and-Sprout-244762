Preheat oven to 400 degrees F (200 degrees C). Arrange chestnuts and Brussels sprouts in a baking dish. Sprinkle shallots over chestnuts and Brussels sprouts and season with salt and black pepper. Sprinkle brown sugar over mixture and dot with butter. Roasted in the preheated oven, stirring twice, until browned and crispy, about 40 minutes.