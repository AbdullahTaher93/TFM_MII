Cover the posole with water and let soak overnight. Drain and transfer to a large enameled cast-iron casserole. Add 3 quarts of water and the pork shoulder and bring to a simmer over moderate heat, skimming occasionally. Meanwhile, in a small skillet, toast the ancho chile over moderate heat until blistered and pliable, about 2 minutes per side. Rinse the chile and discard the stem and seeds. Tear the chile into large pieces and add it to the posole along with the onion and garlic. Simmer over low heat for 1 1/2 hours. Add a large pinch of salt and continue simmering, stirring occasionally, until the posole and pork are tender, about 3 hours. Remove the pork from the stew. Cut the meat from the bone and discard any fat and gristle. Cut the pork into 2-inch chunks, return it to the stew and keep warm over low heat. Roast the poblano chiles over a gas flame or under a broiler until charred all over. Put them in a bowl, cover with plastic wrap and let steam for 5 minutes. Remove the charred skins, stems and seeds and finely chop the poblanos. Add the poblanos to the stew, season with salt and simmer for 10 minutes. Serve the stew with lime wedges.