To make chocolate pastry: In a food processor or a bowl, combine flour, sugar, cocoa, and salt; whirl or mix to blend. Add butter; whirl or rub in with your fingers until fine crumbs form. Add egg yolk and vanilla; whirl or mix with a fork until blended. Pour mixture into a 9-inch pie pan and press evenly over bottom and up sides to edge of rim. Bake in a 350 degrees F regular or convection oven just until crust is slightly darker around edges, 18 to 20 minutes. Let cool on a rack at least 1 hour. To make filling: In a 1 1/2- to 2-quart pan, combine 3/4 cup sugar, cornstarch, and salt. Add milk and whisk to blend. Whisk over medium heat until mixture boils and thickens. Do not scorch. Remove from heat. In a small bowl, beat egg yolks to blend. Stir about 1/2 cup of the hot milk mixture into yolks, then add this mixture back into pan. Return pan to medium-low heat and stir until mixture just begins to bubble, about 2 minutes. Remove from heat and stir in butter and 1 teaspoon vanilla. Peel bananas. Slice half into chocolate pastry, covering bottom evenly. Pour half the warm custard evenly over bananas. Repeat to layer remaining bananas and custard. Cover surface of custard with plastic wrap. Chill until cold, at least 2 hours. In a bowl, with a mixer on high speed, beat whipping cream and remaining sugar and vanilla until mixture holds soft peaks. Mound on pie and swirl to cover. Top with chocolate shavings, if desired.