In a mixing bowl, cream butter and sugar until smooth. Add egg and extracts; mix well. Combine flour and pudding mix; add to the creamed mixture. Stir in chocolate chips. Shape into 1-in. balls; roll in nuts. Place 2 in. apart on greased baking sheets; make a thumbprint in center of cookie. Bake at 350 degrees F for 10-12 minutes. Remove to a wire rack to cool. For filling, cream butter, sugar, vanilla and milk. Spoon into center of cooled cookies. For glaze, if desired, melt chocolate chips and shortening; drizzle over cookies. Let stand until set.