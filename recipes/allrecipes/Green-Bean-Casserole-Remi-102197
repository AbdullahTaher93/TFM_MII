Preheat the oven to 350 degrees F (175 degrees C). Place green beans into a 1 quart or similar sized casserole dish. Fry bacon in a large deep skillet over medium-high heat until browned and crispy. Remove to drain on paper towels. Drain off some of the grease, leaving enough to coat the bottom of the pan. Add mushrooms to the grease in the pan and season with garlic powder and onion powder. Cook and stir until tender, about 4 minutes. Pour the half-and-half into the pan with the mushrooms and stir to scrape the bacon flavor from the bottom of the pan. Simmer until thickened slightly, about 5 minutes. Pour this mixture over the green beans. Crumble bacon over the top and sprinkle with Parmesan cheese. Season with salt and pepper. Bake for 20 minutes in the preheated oven, or until the sauce is bubbling and the top is toasted.