Melt butter in a large pot over high heat. Saute mushrooms in butter until liquid evaporates, about 10 minutes. Stir in garlic, thyme, and rosemary, and cook for 1 minute. Pour in chicken broth, and simmer until liquid evaporates. Season with salt and pepper. Set aside. Preheat to 375 degrees F (190 degrees C). Butter a 13x9x2 inch baking dish. Arrange 1/3 of the potatoes in prepared dish, overlapping slightly. Spread half of the mushroom mixture evenly over the potatoes, and then sprinkle 1/3 of the cheese over mushrooms. Repeat layering, and then arrange remaining potatoes on top. In a large bowl, mix together the half and half, heavy cream, 1 1/4 teaspoon salt, and 1 teaspoon pepper. Pour mixture over potatoes. Cover loosely with foil. Place baking dish on middle rack in oven. Bake until potatoes are tender, about 1 hour and 15 minutes. Uncover. Sprinkle remaining cheese over potatoes. Bake until cheese melts, about 15 minutes longer.