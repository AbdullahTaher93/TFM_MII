Preheat oven to 325 degrees F (165 degrees C). Place margarine, flour, and white sugar into a bowl, and cut with a pastry cutter until the mixture resembles fine crumbs. Press the mixture into a 10x10-inch square baking dish, and bake in the preheated oven until the crust is lightly browned, about 25 minutes. Let the crust cool. Place the cream cheese and confectioners' sugar into a mixing bowl, and beat with an electric mixer until smooth and creamy. Gently stir in the whipped topping until well combined, and spread the mixture over the crust in an even layer. Place milk in a mixing bowl, and beat the chocolate and vanilla pudding mixes into the milk with an electric mixer until the mixture is smooth and thickened, about 2 minutes. Spread the pudding layer over the cream cheese layer. Pour the cream into a mixing bowl, and whip to soft peaks with an electric mixer. Lightly spread the whipped cream over the pudding layer, and sprinkle top with chocolate wafer crumbs. Refrigerate the dessert for at least 1 hour before serving.