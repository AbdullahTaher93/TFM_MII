Melt butter or margarine in a large saucepan. Add chopped onion, and cook over medium heat until tender. Add potatoes, water, salt, marjoram, and bouillon cubes. Cover. Simmer for 10 minutes, or until potatoes are tender. Blend flour with a little milk until smooth. Gradually stir into potato mixture with remaining milk. Cook over medium heat, stirring constantly, until thickened and mixture comes to a boil. Stir in parsley. Ladle into bowls, and top with shredded cheese.