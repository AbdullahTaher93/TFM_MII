Place green beans in a microwave-safe bowl and add enough water to make a layer in the bottom; heat in microwave until green beans are tender yet firm to the bite, 1 to 3 minutes. Drain. Heat peanut oil in a large wok or skillet over medium heat; cook and stir onion until tender, 5 to 10 minutes. Transfer onion to a bowl and discard any remaining oil. Place the bacon in the wok or skillet and cook over medium-high heat, turning occasionally, until evenly browned, about 10 minutes. Drain bacon slices on paper towels and cut into bite-size pieces. Reserve 4 to 5 tablespoons bacon drippings in the wok. Mix onion, brown sugar, vinegar, and liquid smoke in the reserved bacon drippings; cook and stir until sauce is bubbling and brown sugar is dissolved, about 5 minutes. Add green beans to sauce and stir to coat; cook until green beans are heated through, 2 to 3 minutes. Transfer green bean mixture to a microwave-safe casserole dish; season with black pepper. Serve immediately or warm in the microwave, if needed.