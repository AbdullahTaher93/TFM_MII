Cook pasta, and drain; reserve. Preheat oven to 400 degrees F. In a large saucepan, heat oil over medium heat. Add kale; cook, stirring, until wilted, 3 to 5 minutes. Add pumpkin, broth, and pesto; stir to combine. Bring to a simmer. Season with 2 teaspoons salt and 1/2 teaspoon pepper. Toss pasta with pumpkin-kale mixture. Transfer to a 9-by-13-inch baking dish or eight individual dishes. Top with almonds. Bake until top is golden, about 30 minutes.