In a small bowl, stir together hoisin sauce, vinegar, 2 tablespoons water, sugar, ginger, cornstarch, and red pepper flakes. Set aside. Discard any bruised or yellowed bok choy leaves. Rinse and drain bok choy; cut each head in half lengthwise. If bases of bok choy pieces are thicker than 1 inch, cut each piece in half lengthwise. Heat 1 tablespoon of the oil in a wide nonstick frying pan or wok over medium-high heat. Add bok choy and 2 tablespoons water; cover and cook, stirring often, until bok choy stems are just tender when pierced (3 to 5 minutes). Transfer bok choy to a platter. Discard liquid from pan. Wipe pan dry with a paper towel. Heat remaining 2 tablespoons oil in pan over medium-high heat. Rinse shrimp and pat dry; add shrimp and garlic to pan and cook, stirring often, for 2 minutes. Add onions and hoisin mixture. Continue to cook, stirring, until sauce is thickened and shrimp are just opaque in center (about 3 more minutes); cut to test. Spoon shrimp over bok choy and serve with steamed rice.