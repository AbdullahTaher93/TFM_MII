Bring a pot of salted water to a boil. Add onions, and cook 3 minutes to loosen skins. Drain, and cool slightly. Cut root ends from onions. Squeeze onions at stem end (onions will slip out of skins). Combine pearl onions, sherry, raisins, honey, water, butter or margarine, and thyme in a heavy large skillet. Bring to a boil over medium-high heat. Reduce heat to very low, and cover. Simmer until liquid evaporates and onions begin to caramelize, stirring often, about 45 minutes. Season with salt and pepper. Remove from heat. Can be prepared 6 hours ahead. Let stand at room temperature. Rewarm over low heat before continuing. Stir almonds and vinegar into onions. Add a few teaspoons of water if mixture is too dry. Serve warm.