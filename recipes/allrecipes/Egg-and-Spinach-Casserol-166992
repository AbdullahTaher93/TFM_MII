Preheat an oven to 350 degrees F (175 degrees C). Prepare a 9x13 inch baking dish with cooking spray. Beat the eggs in a mixing bowl with the onion and flour until the flour is no longer lumpy. Stir in the spinach, cottage cheese, Cheddar cheese, butter, salt, and pepper until evenly combined; pour into the prepared dish. Bake in the preheated oven until the casserole is bubbly and the top is golden brown, about 45 minutes.