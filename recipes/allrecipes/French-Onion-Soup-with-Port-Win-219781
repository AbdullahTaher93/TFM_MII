Melt the butter with the olive oil in a large pot over medium-low heat. Add the onion slices and garlic to the pot; season with a pinch of salt and black pepper. Cook the onions in the oil mixture until caramelized, stirring every 10 minutes to keep from browning too quickly, about 1 hour. Stir the brown sugar and thyme into the caramelized onions; allow the sugar to melt into the onion mixture, about 2 minutes. Pour the wine over the onions and bring to a boil while scraping the browned bits of food off of the bottom of the pan with a wooden spoon; continue simmering another 5 minutes. Add the beef stock; cook together another 10 minutes. Season to taste with more salt and pepper, if desired. Preheat the oven's broiler. Ladle the soup into 5 oven-safe crocks arranged onto a baking sheet. Top the soup with a slice of French bread; cover with a slice of Swiss cheese and sprinkle with some of the Parmagiano-Reggiano cheese. Melt the cheese under the broiler until browned, 2 to 3 minutes.