Beat egg in a large bowl. Stir in ham, 1/2 cup cheese, shallot, rosemary, pepper and salt. Add frozen potatoes and stir to combine. Heat 1 tablespoon oil in a large nonstick skillet over medium heat. Pat the potato mixture into an even round in the pan. Cover and cook until browned and crispy on the bottom, 4 to 6 minutes. Remove the pan from the heat. Place a rimless baking sheet on top. Wearing oven mitts, grasp the pan and baking sheet together and carefully invert, unmolding the rosti onto the baking sheet. Wipe out any browned bits from the pan. Return it to the heat and add the remaining 1 tablespoon oil. Slide the rosti back into the pan. Top with the remaining 1/2 cup cheese, cover and cook the second side until crispy and browned, 4 to 6 minutes. Slide onto a platter, cut into wedges and serve.