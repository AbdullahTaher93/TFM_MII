Slice green tops of onions and set aside. Chop white part of onions; put in a 5- to 6-quart pan with garlic and oil. Stir over medium-high heat until onions are limp, about 3 minutes. Add broth to pan, cover, and bring to boiling over high heat. Stir zucchini, peppers, and tomatoes into broth; reduce heat, cover, and simmer until zucchini is tender when pierced, about 5 minutes. Stir in reserved green onion tops, basil, and vinegar. Ladle into bowls and add parmesan to taste.