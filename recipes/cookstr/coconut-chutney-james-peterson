If you’re using fresh coconut chunks, purée/chop them in a food processor. Combine the chopped or grated coconut with the cilantro, ginger, garlic, chiles, lemon juice, spices, and sugar in a blender and add the coconut milk. Purée for 3 minutes on high speed. Work the mixture through a coarse strainer or food mill to extract the liquid. Discard the solids that don’t go through. Combine with the onion and season with salt to taste.