In a heavy saucepan, warm the oil over medium heat. Add the onion and sauté until well softened, about 5 minutes. Stir in the garlic and sauté for an additional minute, then add the flour and continue cooking for another 1 or 2 minutes. Mix in the chile and tomatoes or tomatillos. Pour in the stock and add the salt. Bring the mixture to a boil. Reduce the heat to a low simmer and cook for about 15 minutes, until thickened but still very pourable. Serve warm with enchiladas or other dishes. The sauce keeps, refrigerated, for about 5 days and freezes well.