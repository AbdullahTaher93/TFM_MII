Soak the raisins in the rum overnight and drain just before using. Butter a 2-quart casserole or gratin dish and preheat the oven to 350°F. Peel the pineapple and remove the eyes. Slice lengthwise into quarters and cut away the core. Thinly slice two of the quarters and reserve to use on top of the pudding. Cut the other two quarters into ¼-inch cubes. Combine the wine, 1 cup of the sugar, the pepper flakes, 2 of the cinnamon sticks, the cardamom seeds, cloves, and 1 of the vanilla beans in a small saucepan. Bring to a boil over high heat, stirring until the sugar has dissolved. Reduce the heat to medium-low, add the cubed pineapple, and simmer for 10 minutes. Drain and reserve the syrup and the pineapple cubes. (Remove and discard the spices from the pineapple.) Return the syrup to the pan and simmer over medium-low heat until thick, about 5 minutes. Melt the butter in a large skillet. Add the bread cubes and cook over medium-high heat, stirring often, until lightly browned, about 5 minutes. Cool slightly. Combine the milk, cream, and remaining ½ cup sugar in a small saucepan. Add the remaining cinnamon stick and vanilla bean. Bring almost to a simmer over medium heat. Remove from heat and let steep for 5 minutes. Discard the cinnamon stick and vanilla bean. Beat the eggs and yolks together in a large heatproof bowl. Pour the milk and cream mixture into the eggs, stirring constantly. (Discard the cinnamon stick and vanilla bean.) Gently stir in the bread cubes and set aside until the bread has absorbed some of the liquid, about 10 minutes. Mix in the raisins and pineapple cubes, stir well, and pour into the casserole. Arrange the sliced pineapple decoratively over the top of the pudding, overlapping. Brush with a small amount of the syrup. Bake until the pudding is set in the center and lightly browned on top, about 45 minutes. Serve warm with any remaining syrup on the side.