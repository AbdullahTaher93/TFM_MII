Brown the onions well in the oil and butter till they are almost golden brown. Add the paprika, then the vinegar. Cook 4 minutes, add the meat, and cook it with the onions and seasonings, turning it with wooden spoons or spatulas till it is brown. Add salt and pepper to taste, the thyme, tomato paste, and garlic. Stir and cook until it is practically a glaze. Sprinkle with flour and mix well till the flour is colored. Add the broth, cover, and simmer till the mixture is blended well and the meat is tender. Whirl the lemon zest and caraway in a blender, sprinkle over the top of the goulash, and serve with spaetzle or noodles.