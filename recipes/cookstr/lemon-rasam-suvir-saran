For the spice mixture, combine the spices in a spice grinder and grind to a powder. Set aside. For the broth, combine the split peas, turmeric, and 6 cups water in a medium saucepan. Bring to a boil and skim well. Then turn the heat down and simmer vigorously, partially covered, until the legumes are tender, 35 to 40 minutes. Stir occasionally to keep the legumes from sticking to the bottom of the pot, and skim as you need to. Meanwhile, if using tamarind, measure the warm water into a small bowl or measuring cup. Add the tamarind concentrate and stir to dissolve it. Rinse the measuring spoon and your fingers in the water to dissolve all of the sticky tamarind. Set this tamarind water aside. Coarsely chop 1½ of the tomatoes and put them in a food processor or blender with the garlic and process to a puree; set aside. When the split peas are cooked, strain them over a 4-cup or larger measuring cup and reserve for another use (see Headnote). Add water, if necessary, to the cooking broth to make up 4 cups broth and return to the saucepan. Add the juiced lemon halves and bring the broth to a boil. Skim the foam that rises to the top. Then add the tamarind water, if using, the tomato-garlic puree, the spice mixture, the asafetida, if using, green chiles, and salt. Turn the heat down so that the soup simmers vigorously and cook, partially covered, for 10 minutes. Chop the remaining ½ tomato and add it to the soup. Cook 3 more minutes. For the tempering oil, combine the oil and the mustard seeds, if using, in a small frying pan or saucepan over medium-high heat. Cover (the mustard seeds splatter and pop) and cook until you hear the mustard seeds crackle, 1 to 2 minutes. Add the chiles and cook uncovered, stirring, until they start to brown. Then add the curry leaves, if using, and stir. (Stand back; curry leaves spit as they hit the hot oil.) Pour immediately into the soup. Stir in the lemon juice and the cilantro and serve immediately.