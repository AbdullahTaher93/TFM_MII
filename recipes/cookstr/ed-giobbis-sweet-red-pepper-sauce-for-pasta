Cut the peppers lengthwise in half. Scrape away and discard the stems, veins and seeds. Chop the peppers coarsely. There should be about 2 cups. Heat the oil in a large saucepan and add the peppers. Cook, stirring, about 5 minutes. Add the onions, garlic and red pepper flakes and cook, stirring, 2 minutes longer. Add the stock, salt and pepper. Cover and cook 15 minutes. Ladle the sauce into the container of a food processor and blend thoroughly. Return the mixture to the saucepan and bring to the boil. Cook about 2 minutes and stir in the basil. Serve with 1 pound pasta cooked to the desired degree of doneness. Serve the cheese on the side.