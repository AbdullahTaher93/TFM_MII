Sift the flour and baking soda into a medium bowl and set aside. In a large bowl, using an electric mixer on medium speed, beat the butter and peanut butter just to blend them together. Stop the mixer and scrape the sides of the bowl as needed during mixing. Add the granulated sugar and brown sugar and beat until smoothly blended, about 30 seconds. Add the egg and vanilla and mix until thoroughly blended, about 1 minute. On low speed, add the flour mixture, mixing just until it is incorporated. Form the dough into a rough 5-by-3-by-2½-inch rectangular slab. Wrap in plastic wrap and refrigerate to firm the dough slightly, about 30 minutes. Shape the rectangle again and rewrap it. (This makes the shape more defined.) Refrigerate the dough for at least 3 hours, or overnight, until it is cold and firm. Or wrap it tightly and freeze it for up to 1 month; thaw in the refrigerator before using. Position a rack in the middle of the oven. Preheat the oven to 350° F. Line two baking sheets with parchment paper. Unwrap the cold dough. Use a large sharp knife to cut the dough into fifteen 1/3-inch-thick slices, and place the cookies 3 inches apart on the prepared baking sheets. Sprinkle about 1 tablespoon of the chopped peanuts evenly over the top of each cookie, and press the peanuts gently but firmly into the dough. This pressing will make the cookies spread about an additional ½ inch. Bake one sheet at a time until the edges and bottoms are lightly browned, about 14 minutes. Cool the cookies for 5 minutes on the baking sheets, then use a wide metal spatula to transfer them to a wire rack to cool completely. Serve at room temperature.