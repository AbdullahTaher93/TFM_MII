In a saucepan of lightly salted, boiling water, cook the beans until the skins loosen, about 2 minutes. Drain and rinse under cold running water. Slip off the skins. Heat the oil in a frying pan over medium heat. Add the onion and cook, stirring often, about 4 minutes, or until translucent. Add the ham and garlic, increase the heat to medium-high, and cook for about 2 minutes more, or until the ham begins to brown. Add the beans and the wine. Cook, stirring occasionally, until the wine is almost completely reduced, about 8 minutes. Stir in the stock and simmer over medium-low heat for about 10 minutes, until the stock is reduced by half. Serve hot.