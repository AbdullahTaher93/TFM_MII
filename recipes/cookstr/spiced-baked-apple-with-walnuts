Preheat the oven to 350°F (145°C). Carefully cut a 1 in (2.5cm) slice from the top of each apple. Rub cut surfaces of the apples with the lemon as you work. Using an apple corer or a small, sharp knife, remove the core from each apple, leaving the bottom ¼ in (3mm) intact. Put the walnuts, butter, raisins, brown sugar, and cinnamon into a food processor and pulse several times. The mixture should be coarse, not purèed. Fill each apple cavity with the walnut mixture and replace the tops. Arrange the apples upright in a shallow, ovenproof dish, then pour in about ½ in (1cm) water. Bake for 30 minutes or until the flesh is tender when pierced with the point of a knife. When slightly cooled, carefully remove the apples from the baking dish, transfer them to serving plates, and serve hot.