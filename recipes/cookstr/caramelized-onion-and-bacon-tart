Preheat the oven to 350°F. Cook the bacon in a medium frying pan over medium-high heat until the fat is mostly rendered and the bacon is crisp around the edges. Don’t cook it too much now as it will be cooking again on top of the tart. Transfer to paper towels to drain and set aside, leaving 1 tablespoon of the bacon fat in the pan. Add the onions to the pan and cook over medium-high heat until they start to brown, about 8 minutes. Turn the heat to medium-low and add 1 tablespoon of the thyme and a pinch of salt. Continue to cook until the onions are meltingly soft and deep golden brown, about 20 minutes more. Meanwhile, combine the ricotta, egg yolk, ½ teaspoon salt, the pepper, the remaining 1 teaspoon thyme, and ¼ cup of the Parmigiano in a small bowl. Stir well to combine. Spread the ricotta mixture evenly on the bottom of the tart shell. Arrange the onions on top of the ricotta and sprinkle with the remaining 1 tablespoon Parmigiano. Sprinkle the bacon over the top. Transfer to the oven and bake until the edges of the filling are golden brown, 30 to 40 minutes. Serve warm or at room temperature.