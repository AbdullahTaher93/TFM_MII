Cook the spaghetti according to the package directions to al dente in a large pot of lightly salted water. Drain the pasta, reserving 1 cup of the pasta water. Add the walnuts, parsley, basil, garlic, and Parmesan to a food processor, and pulse to finely chop. Stream in 2 tablespoons of the oil to create a chunky puree. Add salt to taste. Preheat the oven to 350 degrees F. While the oven heats, fry the eggs sunny-side up and set aside. Place the tomatoes on a baking sheet and roast for 5 to 10 minutes, until they begin to burst. In a large skillet over medium-high heat, add the remaining tablespoon of olive oil, toss in the kale, and cook until itâ€™s just wilted, about 2 minutes. Reduce the heat to medium, add the drained pasta, and cook for 2 minutes, or until warmed through. Stir in the pesto with about 1/2 cup of the pasta water and cook until the water has evaporated. Divide the pasta among 4 bowls and top each with an egg, add one-forth of the cherry tomatoes, and a sprinkle of Parmesan and red pepper flakes to taste.