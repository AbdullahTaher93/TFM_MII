Cut the pumpkin or squash in half and scrape out all the seeds and stringy material with a large metal spoon. Put them in a pot with the remaining ingredients, bring to a boil, simmer for 25 minutes, and then strain. Preheat the oven to 400°F. Bake the pumpkin or squash halves, face down, on a lightly oiled baking sheet until the skin is wrinkled and the flesh is soft, about 1 hour. Remove them from the oven and, when cool enough to handle, peel off the skin. Reserve any caramelized juices that may have collected on the pan. Melt the butter in a soup pot, add the onion, and cook over medium heat for about 5 minutes. Add the cooked pumpkin, the juices, if any, the salt, and 6 cups of the stock. Bring to a boil; then simmer, covered, for 25 minutes. Pass the soup through a food mill, which will smooth it out while leaving some texture. Return the soup to the pot and add the cream and more stock, if necessary, to thin it. Taste for salt and season with the freshly ground white pepper. Stir in the grated cheese and serve the soup with the thyme leaves scattered over it. Variation: Another way to make this soup is to bake pumpkins with the cream and the cheese inside their hollowed-out shells. The cooked flesh is scraped into the hot cream and melted cheese and served right from the pumpkin–a satisfying and fun way to cook and eat.