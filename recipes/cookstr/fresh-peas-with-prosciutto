Melt the butter in a medium saucepan over medium-high heat. Add the onion and cook, stirring occasionally, just until softened, about 5 minutes. Stir in the peas, sugar, and chicken stock and simmer covered until the peas are barely tender, about 5 minutes. Stir in the prosciutto and cook 1 minute longer. Using a slotted spoon, transfer the peas and prosciutto to a warmed serving bowl. Reduce the liquid remaining in the saucepan over high heat to a thin syrupy glaze. Pour the glaze over the peas and season with salt and pepper. Sprinkle with parsley and serve at once.