Melt 4 tablespoons of the butter in a large skillet over moderately low heat. Add the onion and sauté until soft and starting to color, about 10 minutes. Add the garlic and hot pepper flakes and sauté briefly to release the garlic fragrance. Add the cabbage and fennel seed, season with salt to taste, and stir well. Cover and cook, stirring occasionally, until the cabbage wilts and softens, about 20 minutes. Taste and adjust the seasoning. Stir in the parsley and keep warm. Bring a large pot of salted water to a boil over high heat. Add the pasta and cook until al dente. Set aside 1 cup of the pasta water, then drain the pasta and return it to the warm pot over low heat. Add the cabbage, the remaining 2 tablespoons butter, and the cheese. Toss until the butter melts, moistening with reserved pasta water—you will probably need quite a bit of it. Divide the pasta among warm bowls and serve immediately. Pass the additional cheese at the table.