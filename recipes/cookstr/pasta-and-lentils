In a medium saucepan, bring salted water to a boil. Add the lentils, cover, and continue cooking over medium heat, stirring occasionally, until tender but not mushy, about 20 minutes. Drain and set aside. (If you are using canned lentils, you can add them directly to the frying pan after you sauté the pancetta.) Using a large pot, cook the pasta according to the package instructions until it is al dente. In the meantime, heat olive oil in a medium sauté pan over medium-high heat. Add the pancetta, onions, and garlic. Continue cooking, stirring frequently, until the pancetta is golden, about 7 minutes. Combine with the lentils and season with salt and pepper. Drain the pasta, but reserve 1?2 cup of pasta water. Toss the lentils and gradually add water until creamy. Sprinkle with Parmigiano and garnish with parsley. Serve immediately.