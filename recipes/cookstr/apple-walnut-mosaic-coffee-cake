Preheat the oven to 350°F. Butter and flour a 10-inch tube pan. Place the nuts on a rimmed baking sheet and bake for 8 to 10 minutes, or until lightly toasted; let cool. In a small bowl, combine the whole-wheat and all-purpose flours, baking powder, baking soda, salt, cinnamon, and allspice. Stir well to blend. In a large bowl, combine the eggs, brown sugar, oil, and vanilla and beat with a whisk or an electric mixer until smooth. Stir in the flour mixture just until blended. Stir in the apples, cranberries, and toasted nuts. The batter will be stiff. Spread the batter evenly in the prepared pan. Bake for 1 hour to 1 hour and 5 to 10 minutes, or until the cake is richly browned and a cake tester inserted in the center of the cake comes out clean. Let cool in the pan for 10 minutes, then unmold right side up on a wire rack. If desired, dust the cake with confectioners’ sugar shaken through a sieve. Serve slightly warm or at room temperature, cut into slices.