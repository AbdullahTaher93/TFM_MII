Prepare the ice-cream custard: In a medium saucepan, melt the chocolate with the butter over low heat. Stir in the espresso and set aside. In a medium saucepan, combine the heavy cream, milk, sugar, star anise, and the vanilla bean with its scraped seeds. Over medium heat, cook the mixture until it steams. Remove from the heat. In a large bowl, whisk the egg yolks until lemon colored. Slowly whisk in the hot milk mixture. Return to the saucepan and whisk constantly over low heat until the custard begins to thicken, about 10 minutes. Whisk a little of the custard into the melted chocolate to warm it. Pour chocolate mixture into the custard and whisk to combine. Set the pan in a bowl of ice and stir until cool. Cover and refrigerate until chilled, about 1 hour. Prepare the brittle: In a small saucepan, combine the sugar with ½ cup water. Bring to a boil, stirring to dissolve the sugar. Reduce the heat and cook without stirring until the sugar begins to caramelize and turn amber, about 3 minutes. Add the slivered almonds and swirl to combine. Pour mixture onto a lightly oiled baking sheet and cool until firm. Break the brittle into small bits pieces. When the custard is chilled, remove the star anise and vanilla bean. Add the brittle to the mixture and stir in the rum. Freeze in an ice-cream maker according to the manufacturer’s directions. Transfer the ice cream to a covered container and freeze for at least 2 hours before serving.