To make the marinade, place all of the ingredients in a gallon-sized resealable plastic bag. Add the shrimp, toss to coat, and refrigerate. Set ½ cup of water next to the stovetop. Heat the oil with the curry leaves (if using) and chiles in a medium pot over medium-high heat until the curry leaves start to sizzle, 1 to 2 minutes. Add the ground peppercorns and cook for 1 minute longer. Stir in the ginger, onion, and salt and cook, stirring often, until the onion is browned, about 8 minutes, sprinkling with water and stirring whenever the onion and ginger begin to stick to the bottom of the pot. Add the garlic, coriander, and turmeric and cook until the garlic is fragrant, about 1 minute. Reduce the heat to medium-low and add the tomatoes to the pot. Cook, stirring and scraping the browned bits up from the sides and bottom of the pot, for 1 minute. Increase the heat to medium-high and simmer for 5 minutes, stirring often. Stir in the Sambhaar and cook for 1 minute, and then pour in the coconut milk and ½ cup of water. Bring to a boil and add the shrimp and any accumulated juices. Bring to a simmer and cook until the shrimp are curled and opaque, about 2 minutes. Stir in the cilantro and serve.