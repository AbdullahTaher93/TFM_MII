Remove the filo pastry from the freezer and let it come to room temperature while you prepare the filling. Unfold the dough, and cut the stack of sheets in two. If you are making just one recipe, refold half the dough, and wrap it in plastic. It can either be refrozen or kept for a few days in the refrigerator. Cover the sheets to be used with a sheet of waxed paper covered in turn with a damp kitchen towel, to keep them from becoming dry and brittle. Preheat the oven to 350°F. Roast the hazelnuts for 7 to 10 minutes, or until they smell toasty. Let them cool slightly; then rub them in a kitchen towel to remove the loose papery skins. Leave on any flecks of skins that won't come off easily. Chop the nuts finely, and set them aside. To prepare the artichokes, cut off the stems and the upper third of the leaves. Break off the dark green outer leaves until you reach the pale inner leaves, and trim the broken bases with a paring knife. If you are using baby artichokes, cut them into quarters or sixths and immediately put them in a bowl of water that has been acidulated with the lemon juice. If using large artichokes, trim off all the outer leaves, cut the hearts into quarters, remove the choke with a paring knife, then thinly slice the quarters and put them into the acidulated water. Heat the olive oil and saute the onion with the fennel and thyme for 2 to 3 minutes, until it softens; then lower the heat, and add the artichokes and two thirds of the garlic. Stir to coat them with the oil, season with salt and pepper, then add the water or wine. Cover the pan, and cook until the artichokes are tender, about 15 to 20 minutes. If there is liquid left in the pan when the artichokes are done, remove the lid and continue cooking until the liquid is reduced to a thick syrup. While the artichokes are cooking, heat the 2 tablespoons butter in another large pan, and when it is hot and foamy, add the mushrooms and saute for 3 to 5 minutes. Season with salt and freshly ground black pepper, add the remaining garlic, and cook until the juices are reabsorbed and the pan is dry. Combine the artichokes and mushrooms in a bowl with the ricotta, eggs, parsley, and tarragon. Taste, and season with salt and milled pepper. Brush a 9-by-13-by-2-inch pan with the melted butter, and lay down a sheet of the filo pastry. Brush the pastry with butter, or a mixture of butter and olive oil, and continue buttering and layering until you have used half the sheets, scattering half of the chopped hazelnuts between several of the pastry sheets. Brush the top sheet with butter, and spread the filling over it. Continue layering the rest of the pastry sheets, buttering each sheet, and again distributing the nuts between several of the sheets. Cut the pastry into 4-inch squares, then diagonally into diamonds, making sure you cut through all the layers; refrigerate the pastry if you will not be baking it right away. Bake in a preheated 400°F oven for 40 to 50 minutes, or until browned. Serve the pastries warm from the oven, slightly cooled, or at room temperature.