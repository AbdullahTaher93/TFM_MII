Cook the pasta according to the package directions. Drain; transfer to a large bowl. Meanwhile, heat the oil in a large skillet over medium-high heat. Add the onion, celery, fennel, and garlic and cook, stirring, until softened, about 3 minutes. Add the tomato sauce, artichokes, raisins, vinegar, sugar, capers, and thyme, bring to a simmer, and let simmer for 5 minutes. Pour the contents of the skillet over the penne and stir to combine. Fold in the parsley, season with salt and pepper, and serve.