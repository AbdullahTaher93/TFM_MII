Place 3 to 4 paper towels on a plate, add the tofu, top with additional towels, place another plate on top, and weight down with a heavy skillet to extract the excess moisture, for about 15 minutes. Rinse with cold water and drain. Cut the tofu into strips about 1½ inches long, and ½ inch wide and thick. Heat a wok over high heat, add 1 tablespoon of oil, swirl to coat the pan, and when hot, add the tofu and stir-fry until golden, about 20 seconds. Remove and drain on paper towels. Add a little more oil, to the wok if necessary, heat, and add the eggs. Allow the eggs to set, turning over as needed until cooked—don’t scramble. Remove and cut into chunks. Add additional oil, if necessary, and add the chiles, garlic, and shallots, then stir for 15 to 20 seconds, or until fragrant. Stir in the vinegar and sugar. Add another tablespoon of the oil, and when it’s very hot, add the noodles and toss to stir-fry, adding a little water if the mixture starts to dry. To stir-fry, spread and pull the noodles into a thin layer, scrape, and gently turn them over. Repeat this process several times until the stiff, white noodles soften and curl. Season the noodles with the fish sauce and turn them until coated. Add the basil (if using), bean sprouts, peanuts, and onions and toss. Return the tofu and eggs, and toss to mix. Taste and adjust the seasonings. To serve: place the pad thai on a serving platter and garnish with the cilantro. Arrange the limes around the platter; guests can squeeze the lime over the top before eating.