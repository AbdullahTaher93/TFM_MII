Fill a pot for the pasta with about 6 quarts of water, place over high heat, and bring to a boil. Put about 1 inch of water in a pot large enough to cook the spinach. Place it over high heat. When the water boils, add 1 teaspoon salt and the spinach. Cook until the spinach is quite tender, 5 to 6 minutes. Drain in a colander and squeeze out as much water as possible by pressing on the spinach with a spoon. Transfer the spinach to a cutting board and finely chop it. While the spinach is cooking, peel the onion and finely chop it. Put the butter in a 12-inch skillet, add the onion, and place over medium-high heat. Sauté the onion until it turns a rich golden color, about 5 minutes. When the water for the pasta is boiling, add about 2 tablespoons salt, add the penne, and stir well. Cook until al dente. When the onion is ready, add the spinach and sauté, stirring often, for about 5 minutes. Add the ricotta, cream, and nutmeg, and cook until the ricotta has heated through and the cream is reduced, 2 to 3 minutes. Taste and adjust for salt and season with pepper, then remove from the heat. When the pasta is done, drain well, toss with the sauce and the Parmigiano-Reggiano, and serve at once.