Butter a shallow 2½- to 3-quart baking dish. Preheat the oven to 350°F. In a large bowl, toss the pears with the cranberries and granulated sugar. Spread in the bottom of the prepared dish. In a food processor, process the brown sugar and flour to remove any lumps in the sugar. Add the butter and pulse until the mixture resembles coarse meal. Add the oats and almonds and pulse once or twice just to combine. (You can also mix the topping by hand.) Sprinkle over the fruit, spreading to make an even layer. Bake, uncovered, in the preheated oven until the pears and cranberries are tender and the topping is browned, 50 minutes to 1 hour. Serve hot or warm with scoops of ice cream.