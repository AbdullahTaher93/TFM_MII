Preheat the oven to 400°F. Line a baking sheet with aluminum foil and brush the foil lightly with oil. Arrange the onion slices in a single layer on the baking sheet and brush with oil. Roast, turning the slices and moving them to different places on the pan, until the onions are deep brown on both sides, about 25 minutes. Remove the onions as they reach doneness. Cool to room temperature. Brush the foil with a little more of the oil. Arrange the tomatoes, cut side down, on half of the pan and the shiitake mushroom caps, gill side down, on the other side of the pan. Brush the tomatoes and mushrooms with oil. Roast until the tomatoes are very soft and the skins are shriveled and the mushrooms are wrinkled but firm, 15 minutes. Remove from the oven and cool to room temperature. Meanwhile, place the dried porcini in a small bowl and pour the boiling water over them. Let stand until the mushrooms are softened, about 15 minutes. Drain the mushrooms, straining the soaking liquid through a coffee filter or a sieve lined with a double thickness of cheesecloth. Set the soaking liquid aside. Rinse the porcini thoroughly and drain well. Put them in a bowl. Lift the shiitakes off the baking sheet and add them to the porcini. Scrape the tomatoes and any juices on the baking sheet into a food processor. Add the roasted onions. Process, stopping once or twice to scrape down the sides of the workbowl, until the vegetables are finely chopped. Add the crushed tomatoes, jalapeño, vinegar, sugar, mustard, salt, soy sauce, worcestershire, and pepper. Process until smooth. Transfer the mixture to a 3- to 4-quart heavy saucepan. Stir in the mushroom soaking liquid. Place the shiitakes and porcini in the food processor and process until very finely chopped, scraping the sides of the workbowl if necessary, to chop them evenly. Add to the tomato mixture. Heat the mixture to a boil over medium-high heat. Reduce the heat to a bare simmer–1 or 2 bubbles rising to the surface at a time. Simmer, stirring often, until the mixture is thick enough to mound high on a spoon, about 1 hour. Carefully watch the ketchup and don’t let it stick to the pot as it thickens. Cool to room temperature. Check the seasoning. (The ketchup can be stored in a tightly covered contained in the refrigerator for up to 3 weeks.)