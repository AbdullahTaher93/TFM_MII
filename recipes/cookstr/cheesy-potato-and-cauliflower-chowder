Melt 2 tablespoons of the butter in a large, heavy, enameled soup pot over moderate heat. Add the onion and cook, stirring, until light golden, about 12 minutes. Add the stock, potatoes, and half of the cauliflower. Bring to a boil, reduce the heat to medium low, and cover. Simmer gently until the vegetables are very tender, 10 to 12 minutes. Taste after several minutes, seasoning with salt and pepper. Using a large slotted spoon, remove the solids from the soup. Put them through a ricer or food mill and add them back to the soup along with the remaining raw cauliflower. Hold at a bare simmer for 7 to 8 minutes. While the stock simmers, melt the remaining 3 tablespoons butter in a medium-size saucepan over moderate heat, Stir in the flour and cook, stirring, for 2 minutes; do not allow it to brown. Add the half-and-half or milk. Whisk, stirring, gradually bringing it to a boil. Reduce the heat to medium low and simmer gently for 1 minute. Remove from the heat and whisk in the cheese, a handful at a time, until melted. Scrape the cheese mixture into the broth and stir well until heated through; do not boil. Serve hot, with some of the fresh thyme or parsley sprinkled over each portion.