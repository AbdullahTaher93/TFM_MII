Salt the tuna generously and put it in a deep bowl with the thyme, garlic, fennel seeds, chili pods, and peppercorns. Use your own intuition for amounts of these ingredients. Cover with 3 cups of olive oil and refrigerate for several hours, or preferably overnight. To cook, transfer everything to a heavy-bottomed nonreactive pot and heat slowly over medium heat. When the oil is warm, lower the heat and continue cooking for 12 to 15 minutes, turning the fish over occasionally for even heating. Probe the tuna with a paring knife to check for doneness—it should still be slightly pink at the center. Remove the tuna from the oil and cool, reserving the oil. It is now ready to eat, or it can be refrigerated in the oil and stored for up to 5 days. Remove the shell beans from their pods and simmer the beans in enough water to cover by 1 inch. Add a little salt, a thyme branch, and a splash of olive oil, and cook until tender, about 30 minutes. Let the beans cool in their cooking liquid. The shell beans can be cooked several hours in advance and kept at room temperature. Top and tail the green beans and parboil in rapidly boiling salted water for 2 minutes. Drain and spread on a baking sheet to cool. Make a vinaigrette in a small bowl with the diced shallot, red wine vinegar, and ½ teaspoon salt. Whisk in ½ cup of the confit oil and add freshly ground black pepper. Taste and add more salt and vinegar, if necessary. Drain the shell beans and toss with the green beans in the vinaigrette. Arrange on a platter with the tuna, broken into pieces, over the top. Serve with aioli alongside, or thin the sauce with a little water and drizzle it over everything.