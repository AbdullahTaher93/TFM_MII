Put the ham, carrot, onion, celery, garlic, thyme, bay leaves, peppercorns and stock in a large saucepan. Top up with enough water to cover and bring to the boil. Reduce the heat, cover with a lid and simmer very gently for 2 hours, or until the meat is tender. Leave the ham to cool in the water, then drain.Preheat the oven to 200C/180C Fan/Gas 6 and line a roasting tin with kitchen foil.To make the glaze, heat the mustards, honey and sugar together in a small saucepan until the sugar has dissolved. Score the fat of the cooled ham and spread the glaze all over the hock. Spike the ham with the rosemary, place in the prepared roasting tin and roast for 25–30 minutes, or until golden brown. Leave to rest for at least 15 minutes before carving.To make the cranberry pickle, heat the oil in a saucepan and sweat the onions for 5–8 minutes. Add the cranberries, rosemary and Port. Cook for 10 minutes, or until the liquid has reduced, then add both the vinegars and the sugar. Simmer gently for 30 minutes, or until the cranberries have broken down. Season with salt and pepper, pour into a bowl and set aside. Meanwhile, steam the broccoli until tender.To make the fried eggs, heat the butter in a frying pan and crack the eggs in. Fry the eggs until the whites have set, basting them in the butter as you go.Place the ham slices on to warmed plates and top with the fried eggs. Serve with the pickle and broccoli.