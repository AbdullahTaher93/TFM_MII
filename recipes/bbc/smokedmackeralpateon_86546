Preheat the oven to 200C/400F/Gas 6.Place the mackerel, cream cheese, ricotta and lemon juice into a food processor and blend to a smooth paste. Season, to taste, with salt and freshly ground black pepper.Divide the pâté among 4-6 small ramekins and place into the fridge to chill.Meanwhile, melt the butter in an ovenproof dish over a medium heat.Add the sugar and stir until it begins to melt.Add the shallots and stir well to coat in the melted butter and sugar.Transfer to the oven and roast for one hour, stirring occasionally.Remove the shallots from the oven, add the vinegar and stir well to deglaze the dish.To serve, place a ramekin of pâté into the centre of each plate. Place a couple of slices of toasted brioche and a spoonful of the roasted shallots alongside.