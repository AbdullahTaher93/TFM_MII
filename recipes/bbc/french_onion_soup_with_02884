Melt the butter and oil in a deep saucepan. Add the onion and fry over high heat for few minutes. Cover, lower the heat and simmer for about 10 minutes.Remove the lid, sprinkle in the sugar and some salt and pepper, and fry for a few minutes. Cover, and simmer for at least 15 minutes, or until the onion is tender, golden-brown and caramelised.Add the wine and boil for a few minutes, add the stock and the herbs and cook for another 8–10 minutes.To make the croûtes, slice the baguette, toast one side under the grill. Spread the bread side with mustard and top with grated cheese. Grill until just melted.Remove the herbs, check the seasoning and serve in hot bowls with the cheese croûtes on top.