For the duck confit, weigh the duck legs and sprinkle with one tablespoon of salt per kilo of duck. Place onto a tray and sprinkle with the thyme. Wrap with cling film and place in the fridge overnight.Heat a heavy pan and add the duck legs. Add the duck fat to completely cover the legs. Bring the fat to a gentle simmer and cook slowly for about two and a half hours, or until the duck meat is very tender.Meanwhile, preheat the oven to 180C/355F/Gas 4.Using a pair of tongs, remove the duck legs from the fat and place on a roasting tray, draining off any excess fat.Whisk the honey and oil together in a bowl, then smear generously over the duck legs.Transfer the duck legs to the oven to roast for 18-25 minutes, spooning more honey glaze over the legs 2-3 times during cooking. Remove from the oven and leave to rest.For the butter bean mash, place the potatoes and butter beans into a pan of water and bring to the boil. Reduce the heat and simmer for 15 minutes.Drain the potatoes and beans and place into a large bowl. Add the olive oil and milk and mash to a pur√©e. Season, to taste, with salt and freshly ground white pepper.For the butter bean and tomato compote, heat a deep-sided frying pan until hot, then add the olive oil, onions and garlic and fry together for three minutes.Add the thyme, tomatoes and white wine and bring to the boil, then reduce the heat to simmer for 15-20 minutes, until the sauce has thickened.Add the butter beans and simmer for a further 15 minutes, then season, to taste, with salt and freshly ground black pepper and stir in the chopped parsley.For the red wine sauce, melt half of the butter in a frying pan and add the onions. Fry the onions until golden-brown, then add the stock and red wine.  Bring to the boil, then reduce the heat to simmer the sauce until it has reduced by half and slightly thickened. Pass through a sieve into a clean pan.Whisk in the remaining butter and season, to taste, with salt and freshly ground black pepper.To serve, place a spoonful of the butter bean mash into the centre of four plates. Top with the duck confit and place a spoonful of the compote on the side. Spoon the red wine sauce around and serve.