First, make your vegetable stock. Grate the vegetables and place (along with any ends you can’t grate) into a large heatproof bowl. Add the thyme, bay leaves and the stalks from the parsley. Season with a small pinch of salt and pepper. Cover the vegetables with 1 litre/1¾ pints boiling water. Leave to steep for 10 minutes, or until cool. Once cool, strain the stock through a sieve and discard the vegetables.For the main soup, heat the oil in a large saucepan or casserole over a medium heat. Add the onions and a pinch of salt. Fry gently for two minutes, then add the garlic and chilli and cook over a low heat for five minutes or until the onions are completely soft but not coloured. Add the bacon and fry for 2-3 minutes, or until cooked through.Add the lentils and tomatoes, breaking up the tomatoes with your spoon. Cook for 2-3 minutes, then add enough of the vegetable stock to cover (you may need all of it). Bring to the boil then reduce to a simmer. Cook for 15-20 minutes, or until the lentils are completely soft. Turn off the heat.Pour half of the soup into a blender and pulse until smooth. Return to the pan with the remaining soup and heat through, taste and adjust the seasoning if necessary.Divide the soup between serving bowls, sprinkle with chopped parsley and serve.