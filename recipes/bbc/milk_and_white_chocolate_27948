To make the pastry, put the flour, butter and sugar into a food processor and pulse until the mixture resembles breadcrumbs. With the motor running at a medium speed, add the beaten egg and blend until the mixture starts to form into a ball.Dust a large sheet of baking paper with flour and place the pastry ball on top. Roll the dough into a sausage shape, about 2cm/¾in shorter than the length of the tin. Roll out the dough with a floured rolling pin into a circle, until roughly 4cm/1½in larger on all sides than the tin. Carefully lift the pastry into the tin and gentry press into the base and sides, leaving any excess pastry overhanging (reserve the baking paper for later). Prick the base lightly with a fork and refrigerate for 1 hour.Preheat the oven to 200C/180C Fan/Gas 6. Place the tart tin on a baking tray. Place the reserved baking paper on top of the tart and fill with baking beans or uncooked rice. Bake for 20 minutes. Remove the baking paper and beans then bake again for 5–10 minutes, or until the pastry is cooked and very lightly browned. Carefully trim away any excess pastry with a sharp knife.To make the white chocolate filling, melt the white chocolate with half the cream in a heatproof bowl over a saucepan of gently simmering water (be careful not to let the bowl touch the water). Remove from the heat while there are still some lumps remaining and stir until smooth. Stir in the rest of the cream and pour onto the cooked pastry base. Smooth the surface and refrigerate for 1 hour until set.For the milk chocolate filling, prepare in the same way as the milk chocolte then pour it over the white chocolate filling. Smooth the surface and refrigerate for 1 hour until set. Very carefully remove the tart from the tin and slide it onto a serving platter.For the topping, melt the white chocolate in a heatproof bowl over a saucepan of simmering water. Drizzle all over the tart with a teaspoon. Leave to set.To make the marzipan balls, melt the chocolate in a bowl over a saucepan of gently simmering water. In a separate saucepan, heat the butter, cream, sugar, amaretto and salt and stir until combined. Remove from the heat and stir in the melted chocolate. Divide and shape the marzipan into 12 balls and dip them into the chocolate sauce. Allow them to set on a baking tray at room temperature. Arrange the marzipan balls on top of the tart and leave to rest in a cool place for about least an hour before serving.