Put the shallots, carrots and celery into a slow cooker, and season with salt and freshly ground black pepper. Fry the lardons in a large frying pan over a low heat for 10 minutes until crisp, golden and the fat has run from the meat. Remove from the pan and tip most of the fat into a heatproof bowl.Meanwhile, put the flour into a food bag or bowl, season with salt and freshly ground pepper, then toss the chicken pieces in the flour to coat.Fry the floured chicken in the residual bacon fat until golden-brown, about five minutes each side. Put the chicken on top of the vegetables in the slow cooker and scatter with the lardons, bay leaf and thyme sprigs.Add a little more fat to the pan if needed, then add the garlic and tomato pur√©e. Cook for a minute, then add the wine and bring to the boil for two minutes. Add the stock, return to the boil, season with salt and freshly ground black pepper, then pour over the meat and vegetables. Cover with the lid then cook on low for six hours, until the chicken is very tender.Just before serving, heat a little fat in a frying pan and fry the mushrooms over a high heat, until golden-brown. Scatter over the chicken and serve.