Add 2 tablespoons olive oil to a large saucepan and cook the onions over a low heat for 20 minutes until soft but not coloured.In a separate frying pan, fry the courgettes for 20 minutes until soft. Add the basil to the courgettes. Remove from the heat, season with salt and pepper and leave the courgettes in the pan.Bring a pot of salted water to the boil, add the spaghetti and cook for 2 minutes less than the packet instructions. Remove with a pair of tongs and add to the courgettes plus 1 ladle of pasta water.Put the frying pan on the stove and add the onions and courgette flowers. Cook for a couple of minutes.Beat the egg yolks and Parmesan together in a bowl and pour into the pan. Toss well and add a little more pasta water so it remains really creamy.Serve in warmed bowls with black pepper and a little grated Parmesan on the side.