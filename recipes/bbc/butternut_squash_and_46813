Heat the oil in a large, non-stick frying pan over a medium heat. Add the vegetables, in batches if necessary, and fry for 4-5 minutes, stirring regularly, until lightly browned all over. Season with salt and pepper.Transfer the vegetables to the slow-cooker, sprinkle over the flour and stir well. Add the chopped tomatoes, tomato purée, chilli flakes and pesto and stir again. Pour over the stock and stir. Cover and cook on high for 4 hours.After the hotpot has been cooking for 3½ hours, make the dumplings. Put the flour in a large mixing bowl and season with salt and pepper.Coarsely grate one-quarter of the frozen butter into the flour. Toss the mixture to coat the butter lightly in the flour. Add the remaining butter in three more batches, grating and tossing it in the same way. This should prevent the dumpling dough from clumping and yield light, fluffy dumplings.Stir in enough cold water to bring the mixture together as a soft, squidy dough. Divide into 12 equally sized pieces and roll each into a ball.Remove the lid from the slow-cooker, stir in the spinach until wilted, then arrange the dumplings gently on top. Replace the lid and continue to cook on high for a further 25-30 minutes, or until the dumplings are puffed-up and fluffy.Spoon the hotpot onto serving plates with the dumplings on top.