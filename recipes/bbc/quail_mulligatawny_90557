For the quail, place the chicken stock, thyme and garlic into a pan over a medium heat and bring to a simmer. Add the quail and simmer for 2-3 minutes.Remove the quail with a slotted spoon and drain on kitchen paper, reserving the stock for the soup.When cool enough to handle, use a sharp knife to carefully cut the whole quail breasts away from the bone and then cut the legs away from the body.Heat a frying pan until hot and then add the oil and butter. When it begins to foam, season the quail breasts and legs with salt and freshly ground black pepper and place them, skin-side down, in the pan. Fry the quail for 3-5 minutes, or until there is moderate resistance when the thickest part of the breast is squeezed and the legs are crisp and golden-brown.Remove the meat from the pan and leave to rest in a warm place for five minutes.Meanwhile, melt the remaining butter in a pan and add the onions, apple and a pinch of salt. Cook for 3-4 minutes, or until the onions are soft but not brown, then add the curry powder and flour and cook for two more minutes, stirring frequently.Deglaze the pan with the reserved stock, scraping the bottom of the pan with a wooden spoon to remove the sediment. Simmer for two minutes and then pass through a fine sieve into a clean saucepan.Add the coconut milk and sweet potato to the pan and simmer for about ten minutes or until the sweet potato is cooked and the soup is thick. Add the cooked lentils, season to taste with salt and freshly ground black pepper and heat through.To serve, spoon the lentils and sweet potato into each dish. Place the quail legs on top followed by the quail breasts, then pour over the soup and garnish with the deep fried onion rings and chopped coriander.