Preheat the oven to 180C/160C Fan/Gas 4.For the pastry, mix together the flour and salt in a bowl. Rub in the butter until the mixture resembles fine breadcrumbs. Add 1–2 tablespoons cold water, or just enough to bring the pastry together into a soft, malleable dough. Wrap in cling film and refrigerate for 30 minutes.Roll out the dough on a lightly floured surface until large enough to line a 23cm/9in tart tin. It should be a few millimetres thick. Carefully transfer the dough into the tin and press, using a spare piece of dough, into every corner of the tin. Do not trim. Line the pastry with baking paper, then fill it with baking beans (or uncooked rice). Bake for 12 minutes. Remove the beans and paper and bake for a further 5 minutes.Meanwhile, for the frangipane filling, gently melt the butter and sugar together in a saucepan. Beat in the ground almonds, flour and eggs.Spread the pastry case with the cranberry compôte. Top with the frangipane mixture. Sprinkle over the flaked almonds. Bake for 25–35 minutes, or until golden-brown. Set aside to cool for at least 10 minutes.For the icing, mix the icing sugar with enough lukewarm water to create a paste thick enough to coat the back of a spoon. Drizzle the icing over the tart and serve.