Put the pearl barley into a large bowl, cover with cold water and leave to soak for 15 minutes.Heat the oil in a flameproof casserole dish over a medium heat. Add the shallots, Brussels sprouts, parsnips, chestnuts, and season with salt and pepper. Cook for 15 minutes, stirring only occasionally, until you get a golden-brown colour on the vegetables.Add the cider and simmer for a couple of minutes, stirring and scraping the bottom of the pan to deglaze it, until the liquid has reduced to almost nothing.Drain the pearl barley and rinse well. Add to the casserole dish with the bay leaves, thyme and stock. Stir well, bring to a simmer, then reduce the heat to low.  Cover and simmer for 35–40 minutes, or until the barley is tender. Check the seasoning.Meanwhile, to make the pesto, strip any tough stalks from the Brussels leaves. Roughly shred or chop the leaves and place into a food processor. Add the garlic, walnuts or pumpkin seeds and some salt and pepper. Blend until finely chopped, stopping once or twice to scrape down the sides.Add a squeeze of lemon juice and slowly trickle in the oil, whilst the processor is on. Stop when the ingredients have formed a coarse pesto – it’s nicest if it’s still a bit leafy and textured, rather than a smooth puree. Taste and add more salt, pepper or lemon juice as needed. Place into a bowl and finish with a few fine gratings of lemon zest.To serve, spoon the hotpot into warmed bowls and top with the sprout top pesto.