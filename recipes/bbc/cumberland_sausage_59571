Preheat the oven to 220C/200C Fan/Gas 7.Arrange the chicken thighs (skin-side up), sausages, pumpkin and red onions in a roasting tin and season with salt and pepper. Sprinkle over the thyme and drizzle over 1 tablespoon of the oil.Mix the red wine with 100ml/3½fl oz of water and pour this in. Roast for 30 minutes. Turn the sausages over halfway through cooking to help them brown.Mix the maple syrup with the red wine vinegar and then drizzle it over the roasting tin. Sprinkle over the chilli flakes, if using. Add the mushrooms and drizzle with another tablespoon of oil.Roast for a further 25–30 minutes, or until cooked through and well browned. Serve with any pan juices spooned over, sprinkled with parsley if using.