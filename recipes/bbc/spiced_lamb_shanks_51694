Preheat the oven to 160C/140C Fan/Gas 3.Heat 2 tablespoons of oil in a large flameproof casserole. Brown the lamb shanks in batches over a medium–high heat for 10–15 minutes, or until browned all over. Transfer to a plate.Turn down the heat, add another 2 tablespoons of oil and the onions to the casserole and gently fry for 8–10 minutes, or until soft and translucent. Add the garlic, chilli powder, cumin, coriander, rosemary, a teaspoon of salt and a good grinding of black pepper. Fry, stirring regularly, for 4 minutes, or until aromatic.Stir in the sugar and flour and then add the tomato purée, chopped tomatoes, wine and stock. Return the lamb shanks to the pan and bring the liquid to the boil. Cover with a lid and place in the oven. Cook for 2½ hours, or until meltingly tender. You will need to turn the shanks now and then if they are not fully submerged in the liquid.Carefully remove the lamb shanks to a warmed plate and cover with kitchen foil. Put the casserole over a high heat and simmer for 15 minutes, or until the sauce is slightly thickened. Taste and adjust the seasoning if necessary. Stir through most of the parsley.Ladle the sauce into warmed bowls and sit the lamb shanks on top. Garnish with the remaining parsley and serve immediately with the mashed potato on the side. Any leftover sauce can be frozen and served as gravy or sauce for another meal.