For the stock, heat a large pan until hot and then add the olive oil. Add the onions, carrots, celery, celeriac, leeks, fennel, garlic and peppercorns and cook for about five minutes until coloured, but not browned.Cover with water and bring to the boil, before turning the heat down and simmering for 15 minutes.Add the thyme, rosemary and parsley and cook for a further five minutes. Turn off the heat and allow the stock to cool in the pan.Transfer the stock to a large bowl (or keep it in the pan if you have space in your fridge) and place in the fridge to chill overnight, covered. Strain the stock the next day, when you are ready to cook.For the risotto, pour 1 litre/1Â¾ pints of the homemade vegetable stock into a saucepan and place onto the heat. Bring to a simmer.Heat a frying pan until hot. Add the olive oil and half of the butter. Add the shallots and garlic and sweat for two minutes.Scatter over the thyme leaves and add the rice to the pan. Cook for one minute until just starting to toast.Add the white wine and cook until almost all the wine has been absorbed. Gradually add the stock several ladlefuls at a time, stirring all the time.When each addition of stock is absorbed, add more stock, stirring once more.Continue to cook until the rice is just tender and nearly all the stock is absorbed. When the rice has reached this point, finely slice the artichokes (either by hand or on a mandoline).Add the artichokes to the risotto and cook for 2-3 minutes with the remaining stock.Add the mascarpone, remaining butter and the parmesan and stir to combine. Season with salt and freshly ground black pepper.For the salad, slice the artichokes very thinly and place in a bowl with half of the lemon juice.Whisk the white wine vinegar, mustard and olive oil together to make a dressing. Season with salt and freshly ground black pepper. Drain the artichokes and place them in a salad bowl. Add the dressing and curly endive to the bowl and mix well.To serve, spoon some of the risotto onto each plate and top with the salad.