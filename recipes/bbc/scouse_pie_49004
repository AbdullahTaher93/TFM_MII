Heat the oil in a casserole dish and brown the lamb on all sides. Once browned, remove from the pan and leave to one side.Add the onions to the casserole used to cook the meat and fry until softened, but not browned. Return the lamb to the pan and add all the remaining ingredients, except the pastry and egg.Bring to the boil, then reduce the heat to a simmer, place on the lid and cook for two hours, or until the lamb is starting to fall off the bone. If the liquid reduces too much during cooking top up with water.Taste the liquid in the pan and season with more salt and pepper if required.Pre-heat the oven to 200C/400F/Gas 6.Roll out the pastry slightly larger than the casserole dish. Cut a line of pastry the size of the circumference of the dish. Place the line of pastry around the rim of the dish. Brush with egg and stick the pastry lid on top, pressing the edges to seal. Brush the top with egg.Bake in the hot oven for 20-25 minutes, or until golden-brown.