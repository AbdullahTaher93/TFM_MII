Cook barley in a medium pot of boiling salted water until tender, 50–60 minutes for hulled or hull-less, 20–30 minutes for pearl. Drain; spread out on a baking sheet and let cool. Meanwhile, cook shallots in vegetable oil in a small saucepan over medium-high heat, swirling pan occasionally to keep shallots from burning, until golden brown, 5–7 minutes. Using a slotted spoon, transfer shallots to paper towels to drain; season with salt. Let cool. Set shallot cooking oil aside. Heat olive oil in a large skillet over medium-high until just beginning to smoke. Arrange mushrooms in skillet in a single layer and cook, undisturbed, until undersides are golden brown, about 3 minutes. Season mushrooms with salt and pepper, toss, and continue to cook, tossing often and reducing heat as needed to avoid scorching, until golden brown all over, about 5 minutes longer. Reduce heat to medium and add thyme sprigs, garlic, and butter to skillet. Tip skillet toward you so butter pools at edge and use a spoon to baste mushrooms with foaming butter; cook until butter smells nutty. Using a slotted spoon, transfer mushrooms to a small bowl, leaving thyme and garlic behind. Toss cooled barley, cilantro, parsley, lemon juice, 1 1/2 oz. Parmesan, and 2 Tbsp. reserved shallot oil in a large bowl to combine; season with salt and pepper. Add mushrooms; toss again to combine. Just before serving, top with fried shallots and more shaved Parmesan. Barley can be cooked 1 day ahead. Let cool; store airtight and chill. Dish can be made 3 hours ahead; store tightly wrapped at room temperature.