Pulse garlic, basil, 1/2 cup almonds, and 1 tsp. salt in a food processor until combined. With the motor running, slowly add oil and pulse again until smooth. Transfer to a large bowl. Cook penne in a large pot of boiling salted water, stirring occasionally, and add green beans 30 seconds before pasta is al dente. Drain pasta and green beans, reserving 1 cup pasta cooking liquid, and add to pesto. Stir vigorously and add pasta cooking liquid as needed to fully coat. Season with salt. Transfer pasta mixture to a serving bowl or platter and top with Parmesan and remaining 2 Tbsp. almonds. Serve immediately or at room temperature.