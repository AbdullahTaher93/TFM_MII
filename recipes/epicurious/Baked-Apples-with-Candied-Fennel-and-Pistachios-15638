Preheat oven to 350Â°F with rack in middle. Cover fennel with cold water in a medium saucepan and bring to a boil, then drain. Return fennel to saucepan and stir in sugar, water (3/4 cup), zest, and fennel seeds. Gently simmer, uncovered, until fennel is tender and translucent and liquid is syrupy, about 45 minutes. Cool fennel slightly in syrup. Core apples from top using a melon baller, leaving about 1 inch intact at base. Arrange apples in a baking dish just large enough to hold them. Transfer fennel with a slotted spoon to a bowl (reserve syrup and zest) and add pistachios and raisins. Finely chop zest and stir into fennel mixture. Fill apples with some of mixture, reserving remainder. Stir 1 tablespoon lemon juice into reserved fennel syrup and pour over apples. Add butter to baking dish and bake apples, covered with foil, 25 minutes. Uncover and bake, basting occasionally, until tender, about 25 minutes more. Stir remaining fennel mixture and lemon juice to taste into syrup in dish. Serve over apples.