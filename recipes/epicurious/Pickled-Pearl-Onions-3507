Bring a large saucepan of heavily salted water to a boil. Add onions and cook until crisp-tender, about 4 minutes. Drain and transfer to a large heatproof bowl. Cook coriander seeds, fennel seeds, and peppercorns in another large saucepan over medium heat, stirring occasionally, until lightly toasted, about 2 minutes. Add chile, thyme, vinegar, and sugar; bring to a boil, stirring until sugar dissolves. Remove from heat; add to bowl with onions. Let cool to room temperature, then cover and chill at least 12 hours before serving.