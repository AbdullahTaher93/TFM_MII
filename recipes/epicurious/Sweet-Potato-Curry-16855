Pulse lemongrass, ginger, and garlic in a food processor until very finely chopped. Heat oil in a large heavy pot over medium heat. Add lemongrass mixture and cook, stirring often, until golden brown, about 5 minutes; season with salt. Add curry and tomato pastes and cook, stirring, until darkened, about 3 minutes. Add tomatoes and cook, scraping up any browned bits, until thickened, about 5 minutes. Stir in coconut milk; season with salt. Bring to a boil; reduce heat and simmer, stirring occasionally, until curry is rich and full of flavor, 20–25 minutes. Add sweet potatoes and carrots, then pour in water to cover. Partially cover pot and cook until carrots are crisp-tender, 10–15 minutes. Add shallots and cook until potatoes are tender and shallots are soft, 15–20 minutes. Add chile, if desired, and lime juice to curry and spoon over rice. Top with scallions, basil, and cilantro; serve with lime wedges. DO AHEAD: Curry can be made 2 days ahead. Let cool; cover and chill.