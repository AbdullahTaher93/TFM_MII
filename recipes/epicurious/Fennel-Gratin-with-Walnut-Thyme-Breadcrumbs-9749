Place rack in upper third of oven; preheat to 400°F. Place fennel, onion, cream, butter, and 1 Tbsp. thyme in a large bowl. Season with salt and pepper and toss to combine. Transfer to an 8x8" baking dish; bake until fennel is crisp-tender and cream is reduced by half, 30–35 minutes. While fennel is baking, combine breadcrumbs, walnuts, and oil in a medium bowl. Season with salt and pepper and toss until bread is evenly saturated and walnuts are coated. Add Parmesan and remaining 1 Tbsp. thyme and toss again to combine. Scatter breadcrumb mixture evenly over gratin and bake until breadcrumbs and walnuts are deep golden brown and fennel is tender, 12–15 minutes. Let cool slightly before serving.