Place an oven rack in upper third of oven; preheat to 425°F. Combine oil and harissa in a small bowl; adjust flavor with more harissa if needed (spiciness and flavor vary from brand to brand). Toss onions and potatoes with half of harissa mixture in a large baking dish; season with salt and pepper, then add 1/4 cup water. Roast, tossing once, until potatoes are fork-tender, 20–25 minutes. Meanwhile, score skin side of fillets about 1/4" deep; season with salt and pepper. Rub remaining harissa mixture all over fish, getting into the score marks. Remove onions and potatoes from oven and heat broiler. Place fish skin side up on top of vegetables and broil until onions and potatoes are tender and fish is cooked through and starting to brown on top, 8–10 minutes. Serve fish and vegetables with lemon wedges for squeezing over.